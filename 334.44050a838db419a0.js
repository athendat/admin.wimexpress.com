(self.webpackChunkwimexpress=self.webpackChunkwimexpress||[]).push([[334],{1334:(M,f,h)=>{"use strict";h.r(f),h.d(f,{ShipmentModule:()=>bt});var e=h(4650),y=h(2516),b=h.n(y),_=function(){function g(k){this.elementRef=k,this.background="white",this.backgroundAlpha=1,this.foreground="black",this.foregroundAlpha=1,this.level="L",this.mime="image/png",this.padding=null,this.size=100,this.value="",this.canvas=!1}return g.prototype.ngOnChanges=function(k){("background"in k||"backgroundAlpha"in k||"foreground"in k||"foregroundAlpha"in k||"level"in k||"mime"in k||"padding"in k||"size"in k||"value"in k||"canvas"in k)&&this.generate()},g.prototype.generate=function(){try{var k=this.elementRef.nativeElement;k.innerHTML="";var a=new(b())({background:this.background,backgroundAlpha:this.backgroundAlpha,foreground:this.foreground,foregroundAlpha:this.foregroundAlpha,level:this.level,mime:this.mime,padding:this.padding,size:this.size,value:this.value});k.appendChild(this.canvas?a.canvas:a.image)}catch(S){console.error("Could not generate QR Code: "+S.message)}},g.\u0275fac=function(a){return new(a||g)(e.Y36(e.SBq))},g.\u0275cmp=e.Xpm({type:g,selectors:[["qr-code"]],inputs:{background:"background",backgroundAlpha:"backgroundAlpha",foreground:"foreground",foregroundAlpha:"foregroundAlpha",level:"level",mime:"mime",padding:"padding",size:"size",value:"value",canvas:"canvas"},features:[e.TTD],decls:0,vars:0,template:function(a,S){},encapsulation:2}),g}();_.ctorParameters=function(){return[{type:e.SBq}]},_.propDecorators={background:[{type:e.IIB}],backgroundAlpha:[{type:e.IIB}],foreground:[{type:e.IIB}],foregroundAlpha:[{type:e.IIB}],level:[{type:e.IIB}],mime:[{type:e.IIB}],padding:[{type:e.IIB}],size:[{type:e.IIB}],value:[{type:e.IIB}],canvas:[{type:e.IIB}]};var w=function(){function g(){}return g.\u0275fac=function(a){return new(a||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({}),g}();w.ctorParameters=function(){return[]};var E=h(9116),v=h(3786),A=h(2077),o=h(4006),t=h(8739),n=h(6308),r=h(9646),i=h(7579),s=h(6451),l=h(2722),m=h(8372),T=h(3900),C=h(9653);const Z=g=>g.shipments,z=(0,C.P1)(Z,g=>g.shipment),j=(0,C.P1)(Z,g=>g.shipments);var X=h(6428),te=h(3844),ce=h(1927),re=h(529),D=h(8505),Q=h(5698),N=h(4004),L=h(5714),F=h(4051);const ne=h(2340).N.API_URL;let ee=(()=>{class g{constructor(a,S){this._httpClient=a,this.store=S}getShipments(a=0,S=10,R="createdAt",G="desc",U=""){const $=(new re.LE).append("page",a.toString()).append("size",S.toString()).append("sort",R).append("order",G).append("search",U);return this._httpClient.get(`${ne}/shipments/`,{params:$}).pipe((0,D.b)(({pagination:W,shipments:ae})=>{this.store.dispatch((0,L.Jr)({pagination:W})),this.store.dispatch((0,F.Ir)({shipments:ae}))}))}createShipment(a){return this.store.select(j).pipe((0,Q.q)(1),(0,T.w)(S=>this._httpClient.post(`${ne}/shipments`,a).pipe((0,D.b)(R=>{const G=[...S];this.store.dispatch((0,F.Ir)({shipments:[G,R.shipment]}))}))))}getShipmentById(a){if(null!==a)return this._httpClient.get(`${ne}/shipments/${a}`).pipe((0,N.U)(({shipment:S})=>(this.store.dispatch((0,F.wo)({shipment:S})),S)))}updateShipment(a){return this.store.select(j).pipe((0,Q.q)(1),(0,T.w)(S=>this._httpClient.patch(`${ne}/shipments/${a._id}`,a).pipe((0,N.U)(R=>{const G=[...S],U=G.findIndex($=>$._id===a._id);return G[U]=R.shipment,this.store.dispatch((0,F.Ir)({shipments:G})),R}))))}deleteShipment(a){return this.store.select(j).pipe((0,Q.q)(1),(0,T.w)(S=>this._httpClient.delete(`${ne}/shipments/${a}`).pipe((0,N.U)(R=>{const G=[...S],U=G.findIndex($=>$._id===a);return G.splice(U,1),this.store.dispatch((0,F.Ir)({shipments:G})),R}))))}}return g.\u0275fac=function(a){return new(a||g)(e.LFG(re.eN),e.LFG(C.yh))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var H=h(6895),se=h(4859),ue=h(7392),ie=h(9549),de=h(4144),pe=h(266);const me=["htmlShipmentList"];function ge(g,k){if(1&g&&(e.ynx(0),e._UZ(1,"mat-icon",44),e.BQk()),2&g){const a=e.oxw().$implicit;e.xp6(1),e.Q6J("svgIcon","mat_solid:directions_boat")("matTooltip",a.shippingType)}}function ve(g,k){if(1&g&&(e.ynx(0),e._UZ(1,"mat-icon",44),e.BQk()),2&g){const a=e.oxw().$implicit;e.xp6(1),e.Q6J("svgIcon","mat_solid:flight_takeoff")("matTooltip",a.shippingType)}}function _e(g,k){1&g&&e.GkF(0)}const xe=function(g){return{$implicit:g}};function u(g,k){if(1&g&&(e.ynx(0),e.YNc(1,_e,1,0,"ng-container",45),e.BQk()),2&g){const a=e.oxw().$implicit,S=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",S.rowDetailsTemplate)("ngTemplateOutletContext",e.VKq(2,xe,a))}}const c=function(g,k,a,S,R){return{"bg-yellow-200 text-yellow-800 dark:bg-yellow-600 dark:text-yellow-50":g,"bg-blue-200 text-blue-800 dark:bg-blue-600 dark:text-blue-50":k,"bg-orange-200 text-orange-800 dark:bg-orange-600 dark:text-orange-50":a,"bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50":S,"bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50":R}};function d(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",29),e._uU(3),e.qZA(),e.TgZ(4,"div",28),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"div",37),e._uU(8),e.qZA(),e.TgZ(9,"div",30),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"div",30),e.YNc(13,ge,2,2,"ng-container",22),e.YNc(14,ve,2,2,"ng-container",22),e.qZA(),e.TgZ(15,"div",31),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"div",38)(19,"span",39)(20,"span",40),e._uU(21),e.qZA()()(),e.TgZ(22,"div",41)(23,"button",42),e._UZ(24,"mat-icon",43),e.qZA()()(),e.TgZ(25,"div",25),e.YNc(26,u,2,4,"ng-container",22),e.qZA(),e.BQk()),2&g){const a=k.$implicit,S=e.oxw(4);e.xp6(3),e.hij(" ",a.barcode," "),e.xp6(2),e.hij(" ",e.xi3(6,14,a.createdAt,"shortDate")," "),e.xp6(3),e.lnq(" ",a.clientId.name," ",a.clientId.lastname1," ",a.clientId.lastname2||""," "),e.xp6(2),e.hij(" ",e.xi3(11,17,a.weight,"1.1-4")," kg "),e.xp6(3),e.Q6J("ngIf","Mar\xedtimo"===a.shippingType),e.xp6(1),e.Q6J("ngIf","A\xe9reo"===a.shippingType),e.xp6(2),e.hij(" $ ",e.xi3(17,20,a.amount,"1.2-2")," "),e.xp6(3),e.Q6J("ngClass",e.qbA(23,c,"recibido"===a.shippingStatus,"preparado"===a.shippingStatus,"enviado"===a.shippingStatus,"Entregado"===a.shippingStatus,"extraviado"===a.shippingStatus)),e.xp6(2),e.Oqu(a.shippingStatus),e.xp6(2),e.MGl("routerLink","label/",a._id,""),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:qrcode"),e.xp6(2),e.Q6J("ngIf",(null==S.selectedShipment?null:S.selectedShipment.id)===a.id)}}function p(g,k){if(1&g&&(e.ynx(0),e.YNc(1,d,27,29,"ng-container",35),e.BQk()),2&g){const a=k.ngIf,S=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a)("ngForTrackBy",S.trackByFn)}}const x=function(g){return{"pointer-events-none":g}},O=function(){return[5,10,25,100]};function I(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"div",25)(2,"div",26)(3,"div",27),e._uU(4," C\xf3digo de barra "),e.qZA(),e.TgZ(5,"div",28),e._uU(6," Fecha "),e.qZA(),e.TgZ(7,"div",29),e._uU(8," Cliente "),e.qZA(),e.TgZ(9,"div",30),e._uU(10," Peso "),e.qZA(),e.TgZ(11,"div",30),e._uU(12," Env\xedo "),e.qZA(),e.TgZ(13,"div",31),e._uU(14," Importe "),e.qZA(),e.TgZ(15,"div",32),e._uU(16," Estado "),e.qZA(),e.TgZ(17,"div",33),e._uU(18," Acciones "),e.qZA()(),e.YNc(19,p,2,2,"ng-container",22),e.ALo(20,"async"),e.qZA(),e._UZ(21,"mat-paginator",34),e.BQk()),2&g){const a=e.oxw(2);e.xp6(3),e.Q6J("mat-sort-header","barcode"),e.xp6(16),e.Q6J("ngIf",e.lcZ(20,8,a.shipments$)),e.xp6(2),e.Q6J("ngClass",e.VKq(10,x,a.isLoading))("length",a.pagination.length)("pageIndex",a.pagination.page)("pageSize",a.pagination.size)("pageSizeOptions",e.DdM(12,O))("showFirstLastButtons",!0)}}function B(g,k){if(1&g&&(e.ynx(0),e.YNc(1,I,22,13,"ng-container",24),e.BQk()),2&g){const a=k.ngIf;e.oxw();const S=e.MAs(33);e.xp6(1),e.Q6J("ngIf",a.length>0)("ngIfElse",S)}}function P(g,k){1&g&&(e.TgZ(0,"div",46),e._uU(1,"\xa1No se ha generado ning\xfan env\xedo!"),e.qZA())}let K=(()=>{class g{constructor(a,S,R,G,U){this._changeDetectorRef=a,this._formBuilder=S,this._fileSaverService=R,this._shipmentService=G,this.store=U,this.alertMessage=null,this.alertTitle=null,this.canceled=!1,this.delivered=!1,this.flashMessage=null,this.isLoading=!1,this.shipment=null,this.shipments=[],this.shipments$=(0,r.of)([]),this.payed=!1,this.ready=!1,this.roles=[],this.searchInputControl=new o.p4,this.selectedShipment=null,this.shipped=!1,this._unsubscribeAll=new i.x}ngOnInit(){this.shipments$=this.store.select(j),this.shipments$.subscribe(a=>this.shipments=a),this.store.select(X.B).pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this.pagination=a,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,l.R)(this._unsubscribeAll),(0,m.b)(900),(0,T.w)(a=>this._shipmentService.getShipments(0,10,"shipmentNo","asc",a))).subscribe(),this.selectedShipmentForm=this._formBuilder.group({_id:[null,o.kI.required],payed:[{value:this.payed,disabled:!0},o.kI.required],payedAt:[{value:null,disabled:!0},o.kI.required],ready:[{value:this.ready,disabled:!0},o.kI.required],readyAt:[{value:null,disabled:!0},o.kI.required],shipped:[{value:this.shipped,disabled:!0},o.kI.required],shippedAt:[{value:null,disabled:!0},o.kI.required],delivered:[{value:this.delivered,disabled:!0},o.kI.required],deliveredAt:[{value:null,disabled:!0},o.kI.required],canceled:[{value:this.canceled,disabled:!0},o.kI.required],canceledAt:[{value:null,disabled:!0},o.kI.required],cancelObs:[null],changeStateAt:[{value:null,disabled:!0},o.kI.required],status:[null,o.kI.required]})}ngAfterViewInit(){this._sort&&this._paginator&&(this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,l.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0,this.closeDetails()}),(0,s.T)(this._sort.sortChange,this._paginator.page).pipe((0,T.w)(()=>(this.closeDetails(),this._shipmentService.getShipments(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction)))).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDetails(){this.selectedShipment=null}exportAsExcelFile(){this._fileSaverService.exportAsExcelFile(this.shipments,"shipments")}exportAsCsvFile(){this._fileSaverService.exportAsCsvFile(this.shipments,"shipments")}}return g.\u0275fac=function(a){return new(a||g)(e.Y36(e.sBO),e.Y36(o.QS),e.Y36(ce.m),e.Y36(ee),e.Y36(C.yh))},g.\u0275cmp=e.Xpm({type:g,selectors:[["ath-shipment"]],viewQuery:function(a,S){if(1&a&&(e.Gf(me,5),e.Gf(t.NW,5),e.Gf(n.YE,5)),2&a){let R;e.iGM(R=e.CRH())&&(S.htmlShipmentList=R.first),e.iGM(R=e.CRH())&&(S._paginator=R.first),e.iGM(R=e.CRH())&&(S._sort=R.first)}},decls:34,vars:12,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"flex","flex-col","flex-wrap","p-6","py-8","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:px-10","bg-mine-50","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-700",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-700"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","mt-6","shrink-0","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","","mat-button","","routerLink","new",1,"ml-4","text-white","bg-primary-500"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],[4,"ngIf"],["noShipment",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","shipments-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"",3,"mat-sort-header"],[1,"hidden","text-center","sm:block"],[1,""],[1,"hidden","text-center","lg:block"],[1,"hidden","text-right","md:block"],[1,"hidden","text-center","md:block"],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","bshipment-b","shipments-grid","md:px-8"],[1,"truncate"],[1,"items-center","hidden","text-center","md:block"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide","uppercase",3,"ngClass"],[1,"leading-relaxed","whitespace-nowrap"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","","matTooltip","Ver etiqueta",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],[1,"icon-size-5",3,"svgIcon","matTooltip"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(a,S){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Env\xedos"),e.qZA()(),e.TgZ(12,"div",8)(13,"a",9),e._UZ(14,"mat-icon",6),e.TgZ(15,"span",10),e._uU(16,"Regresar"),e.qZA()()()()(),e.TgZ(17,"div",11)(18,"h2",12),e._uU(19," Listado de Env\xedos "),e.qZA()()(),e.TgZ(20,"div",13)(21,"mat-form-field",14),e._UZ(22,"mat-icon",15)(23,"input",16),e.qZA(),e.TgZ(24,"button",17),e._UZ(25,"mat-icon",18),e.TgZ(26,"span",19),e._uU(27,"Nuevo"),e.qZA()()()(),e.TgZ(28,"div",20)(29,"div",21),e.YNc(30,B,2,2,"ng-container",22),e.ALo(31,"async"),e.YNc(32,P,2,0,"ng-template",null,23,e.W1O),e.qZA()()()),2&a&&(e.xp6(6),e.Q6J("routerLink","/home"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(1),e.Q6J("formControl",S.searchInputControl)("autocomplete","off")("placeholder","Buscar env\xedos"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",e.lcZ(31,10,S.shipments$)))},dependencies:[E.rH,E.yS,H.mk,H.sg,H.O5,H.tP,o.Fj,o.JJ,o.oH,se.lW,ue.Hw,ie.KE,ie.qo,de.Nt,t.NW,n.YE,n.nU,pe.gM,H.Ov,H.JJ,H.uU],styles:[".shipments-grid{grid-template-columns:112px auto 72px}@media (min-width: 600px){.shipments-grid{grid-template-columns:112px 100px auto 112px 72px}}@media (min-width: 960px){.shipments-grid{grid-template-columns:112px 112px auto 112px 100px 72px}}@media (min-width: 1280px){.shipments-grid{grid-template-columns:112px 112px auto 72px 72px 72px 100px 72px}}\n"],encapsulation:2,data:{animation:te.L},changeDetection:0}),g})();var he=h(7489),oe=h(4787),we=h(1635),Se=h(6443);class Te{constructor(){}}const Oe=[{zone:"A",state:"La Habana"},{zone:"A",state:"Artemisa"},{zone:"A",state:"Mayabeque"},{zone:"B",state:"Matanzas"},{zone:"B",state:"Pinar del Rio"},{zone:"B",state:"Cienfuegos"},{zone:"B",state:"Villa Clara"},{zone:"B",state:"Sancti Sp\xedritus"},{zone:"B",state:"Ciego de \xc1vila"},{zone:"C",state:"Camag\xfcey"},{zone:"C",state:"Las Tunas"},{zone:"C",state:"Holgu\xedn"},{zone:"C",state:"Granma"},{zone:"C",state:"Santiago de Cuba"},{zone:"C",state:"Guant\xe1namo"},{zone:"C",state:"Isla de la Juventud"}],ye=[{type:"entrega en casa",article:"mensajer\xeda",zone:"A",unit:"lb",cost:4},{type:"entrega en casa",article:"mensajer\xeda",zone:"B",unit:"lb",cost:4.5},{type:"entrega en casa",article:"mensajer\xeda",zone:"C",unit:"lb",cost:5},{type:"recogida directa",article:"mensajer\xeda",zone:"A",unit:"lb",cost:4},{type:"recogida directa",article:"mensajer\xeda",zone:"B",unit:"lb",cost:4.5},{type:"recogida directa",article:"mensajer\xeda",zone:"C",unit:"lb",cost:5},{type:"entrega en casa",article:"correspondencia",zone:"A",unit:"U",limit:.375,cost:6},{type:"entrega en casa",article:"correspondencia",zone:"B",unit:"U",limit:.375,cost:6},{type:"entrega en casa",article:"correspondencia",zone:"C",unit:"U",limit:.375,cost:6},{type:"entrega en casa",article:"correspondencia",zone:"A",unit:"U",limit:1,cost:12},{type:"entrega en casa",article:"correspondencia",zone:"B",unit:"U",limit:1,cost:12},{type:"entrega en casa",article:"correspondencia",zone:"C",unit:"U",limit:1,cost:12}],be=[{type:"entrega en casa",state:"Pinar del R\xedo",ranges:[{range:"0-10",init:0,end:10,cost:25},{range:"11-20",init:11,end:20,cost:30},{range:"21-30",init:21,end:30,cost:40},{range:"31-59",init:31,end:59,cost:45},{range:"60-75",init:60,end:75,cost:50},{range:"76-100",init:76,end:100,cost:80}]},{type:"entrega en casa",state:"Artemisa",ranges:[{range:"0-10",init:0,end:10,cost:20},{range:"11-20",init:11,end:20,cost:25},{range:"21-30",init:21,end:30,cost:35},{range:"31-59",init:31,end:59,cost:40},{range:"60-75",init:60,end:75,cost:45},{range:"76-100",init:76,end:100,cost:75}]},{type:"entrega en casa",state:"Mayabeque",ranges:[{range:"0-10",init:0,end:10,cost:20},{range:"11-20",init:11,end:20,cost:25},{range:"21-30",init:21,end:30,cost:35},{range:"31-59",init:31,end:59,cost:40},{range:"60-75",init:60,end:75,cost:45},{range:"76-100",init:76,end:100,cost:75}]},{type:"entrega en casa",state:"La Habana",ranges:[{range:"0-10",init:0,end:10,cost:15},{range:"11-20",init:11,end:20,cost:20},{range:"21-30",init:21,end:30,cost:30},{range:"31-59",init:31,end:59,cost:35},{range:"60-75",init:60,end:75,cost:40},{range:"76-100",init:76,end:100,cost:70}]},{type:"entrega en casa",state:"Matanzas",ranges:[{range:"0-10",init:0,end:10,cost:25},{range:"11-20",init:11,end:20,cost:30},{range:"21-30",init:21,end:30,cost:40},{range:"31-59",init:31,end:59,cost:45},{range:"60-75",init:60,end:75,cost:50},{range:"76-100",init:76,end:100,cost:80}]},{type:"entrega en casa",state:"Cienfuegos",ranges:[{range:"0-10",init:0,end:10,cost:34},{range:"11-20",init:11,end:20,cost:38},{range:"21-30",init:21,end:30,cost:50},{range:"31-59",init:31,end:59,cost:55},{range:"60-75",init:60,end:75,cost:60},{range:"76-100",init:76,end:100,cost:95}]},{type:"entrega en casa",state:"Villa Clara",ranges:[{range:"0-10",init:0,end:10,cost:34},{range:"11-20",init:11,end:20,cost:38},{range:"21-30",init:21,end:30,cost:50},{range:"31-59",init:31,end:59,cost:55},{range:"60-75",init:60,end:75,cost:60},{range:"76-100",init:76,end:100,cost:95}]},{type:"entrega en casa",state:"Sancti Sp\xedritus",ranges:[{range:"0-10",init:0,end:10,cost:34},{range:"11-20",init:11,end:20,cost:38},{range:"21-30",init:21,end:30,cost:50},{range:"31-59",init:31,end:59,cost:55},{range:"60-75",init:60,end:75,cost:60},{range:"76-100",init:76,end:100,cost:95}]},{type:"entrega en casa",state:"Ciego de \xc1vila",ranges:[{range:"0-10",init:0,end:10,cost:36},{range:"11-20",init:11,end:20,cost:40},{range:"21-30",init:21,end:30,cost:52},{range:"31-59",init:31,end:59,cost:58},{range:"60-75",init:60,end:75,cost:62},{range:"76-100",init:76,end:100,cost:97}]},{type:"entrega en casa",state:"Camag\xfcey",ranges:[{range:"0-10",init:0,end:10,cost:38},{range:"11-20",init:11,end:20,cost:42},{range:"21-30",init:21,end:30,cost:54},{range:"31-59",init:31,end:59,cost:60},{range:"60-75",init:60,end:75,cost:70},{range:"76-100",init:76,end:100,cost:100}]},{type:"entrega en casa",state:"Las Tunas",ranges:[{range:"0-10",init:0,end:10,cost:38},{range:"11-20",init:11,end:20,cost:42},{range:"21-30",init:21,end:30,cost:54},{range:"31-59",init:31,end:59,cost:60},{range:"60-75",init:60,end:75,cost:70},{range:"76-100",init:76,end:100,cost:100}]},{type:"entrega en casa",state:"Holgu\xedn",ranges:[{range:"0-10",init:0,end:10,cost:40},{range:"11-20",init:11,end:20,cost:44},{range:"21-30",init:21,end:30,cost:60},{range:"31-59",init:31,end:59,cost:70},{range:"60-75",init:60,end:75,cost:75},{range:"76-100",init:76,end:100,cost:105}]},{type:"entrega en casa",state:"Granma",ranges:[{range:"0-10",init:0,end:10,cost:40},{range:"11-20",init:11,end:20,cost:44},{range:"21-30",init:21,end:30,cost:60},{range:"31-59",init:31,end:59,cost:70},{range:"60-75",init:60,end:75,cost:75},{range:"76-100",init:76,end:100,cost:105}]},{type:"entrega en casa",state:"Santiago de Cuba",ranges:[{range:"0-10",init:0,end:10,cost:40},{range:"11-20",init:11,end:20,cost:44},{range:"21-30",init:21,end:30,cost:60},{range:"31-59",init:31,end:59,cost:70},{range:"60-75",init:60,end:75,cost:75},{range:"76-100",init:76,end:100,cost:105}]},{type:"entrega en casa",state:"Guant\xe1namo",ranges:[{range:"0-10",init:0,end:10,cost:40},{range:"11-20",init:11,end:20,cost:44},{range:"21-30",init:21,end:30,cost:60},{range:"31-59",init:31,end:59,cost:70},{range:"60-75",init:60,end:75,cost:75},{range:"76-100",init:76,end:100,cost:105}]},{type:"entrega en casa",state:"Isla de la Juventud",ranges:[{range:"0-10",init:0,end:10,cost:60},{range:"11-20",init:11,end:20,cost:65},{range:"21-30",init:21,end:30,cost:70},{range:"31-59",init:31,end:59,cost:75},{range:"60-75",init:60,end:75,cost:80},{range:"76-100",init:76,end:100,cost:100}]},{type:"recogida directa",ranges:[{range:"0-10",init:0,end:10,cost:10},{range:"11-20",init:11,end:20,cost:15},{range:"21-30",init:21,end:30,cost:25},{range:"31-59",init:31,end:59,cost:30},{range:"60-75",init:60,end:75,cost:35},{range:"76-100",init:76,end:100,cost:60}]}],le=[{state:"La Habana",cost:6},{zone:"A",state:"Artemisa",cost:7},{zone:"A",state:"Mayabeque",cost:7},{zone:"A",state:"Matanzas",cost:7},{zone:"A",state:"Pinar del Rio",cost:7},{zone:"A",state:"Cienfuegos",cost:7},{zone:"A",state:"Villa Clara",cost:7},{zone:"B",state:"Sancti Sp\xedritus",cost:8},{zone:"B",state:"Ciego de \xc1vila",cost:8},{zone:"B",state:"Camag\xfcey",cost:8},{zone:"C",state:"Las Tunas",cost:9},{zone:"C",state:"Holgu\xedn",cost:9},{zone:"C",state:"Granma",cost:9},{zone:"C",state:"Santiago de Cuba",cost:9},{zone:"C",state:"Guant\xe1namo",cost:9}],ke=[{range:"0-1.55",init:0,end:1.55,cost:8},{range:"1.55-2",init:1.55,end:2,cost:9},{range:"2-3",init:2,end:3,cost:10},{range:"3-4",init:3,end:4,cost:12},{range:"4-5",init:4,end:5,cost:14},{range:"5-6",init:5,end:6,cost:16},{range:"6-7",init:6,end:7,cost:18},{range:"7-8",init:7,end:8,cost:20},{range:"8-9",init:8,end:9,cost:22},{range:"9-10",init:9,end:10,cost:24},{range:"25-40",init:25,end:40,cost:55},{range:"40-80",init:40,end:80,cost:75},{range:"80-120",init:80,end:120,cost:120}];var Ce=h(8342),Ie=h(1683),Ze=h(1158),Re=h(3758),Ae=h(4098),Me=h(3238),Be=h(6709),De=h(4385),Ue=h(2494);function Pe(g,k){1&g&&(e.ynx(0),e.TgZ(1,"a",62),e._uU(2,"Nuevo"),e.qZA(),e.BQk())}function Ne(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"a",62),e._uU(2),e.qZA(),e.BQk()),2&g){const a=e.oxw();e.xp6(2),e.Oqu(a.selectedShipment.barcode)}}function Le(g,k){1&g&&(e.ynx(0),e._uU(1," Nuevo "),e.BQk())}function qe(g,k){if(1&g&&(e.ynx(0),e._uU(1),e.BQk()),2&g){const a=e.oxw();e.xp6(1),e.hij(" ",a.selectedShipment.barcode," ")}}const Ee=function(g){return{"cursor-not-allowed":g}};function je(g,k){if(1&g){const a=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(a);const R=e.oxw();return e.KtG(R.createShipment())}),e._UZ(1,"mat-icon",64),e.TgZ(2,"span",65),e._uU(3,"Guardar"),e.qZA()()}if(2&g){const a=e.oxw();e.Q6J("ngClass",e.VKq(3,Ee,a.shipmentForm.invalid))("disabled",a.shipmentForm.invalid&&null!==a.shipmentForm.get("courierId")),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function Fe(g,k){if(1&g){const a=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(a);const R=e.oxw();return e.KtG(R.updateShipment())}),e._UZ(1,"mat-icon",64),e.TgZ(2,"span",65),e._uU(3,"Actualizar"),e.qZA()()}if(2&g){const a=e.oxw();e.Q6J("disabled",a.shipmentForm.invalid&&null!==a.shipmentForm.get("courierId")),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}function Qe(g,k){if(1&g&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&g){const a=k.$implicit;e.Q6J("value",a.country),e.xp6(1),e.hij(" ",a.country," ")}}function ze(g,k){if(1&g&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&g){const a=k.$implicit;e.Q6J("value",a.name),e.xp6(1),e.hij(" ",a.name," ")}}function Je(g,k){if(1&g&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&g){const a=k.$implicit;e.Q6J("value",a),e.xp6(1),e.hij(" ",a," ")}}function Ge(g,k){if(1&g&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&g){const a=k.$implicit;e.Q6J("value",a),e.xp6(1),e.hij("",a," ")}}function He(g,k){if(1&g&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&g){const a=k.$implicit;e.Q6J("value",a.city),e.xp6(1),e.hij(" ",a.city," ")}}function $e(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"div",73)(2,"div",74)(3,"span",75),e._uU(4),e.ALo(5,"currency"),e.qZA()()(),e.BQk()),2&g){const a=e.oxw(4);e.xp6(4),e.hij(" ",e.gM2(5,1,a.cubapackCost,"USD ","symbol","1.2-2")," ")}}function Ve(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"div",73)(2,"div",74)(3,"span",75),e._uU(4),e.ALo(5,"currency"),e.qZA()()(),e.BQk()),2&g){const a=e.oxw(4);e.xp6(4),e.hij(" ",e.gM2(5,1,a.cubanacanExpressCost,"USD ","symbol","1.2-2")," ")}}function Ye(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"div",73)(2,"div",74)(3,"span",75),e._uU(4),e.ALo(5,"currency"),e.qZA()()(),e.BQk()),2&g){const a=e.oxw(4);e.xp6(4),e.hij(" ",e.gM2(5,1,a.correosCubaCost,"USD ","symbol","1.2-2")," ")}}function Xe(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"li",76)(2,"div",72),e._uU(3," Disponibilidad "),e.qZA(),e.TgZ(4,"div",73)(5,"div",77)(6,"span",78),e._uU(7),e.ALo(8,"number"),e.qZA()()()(),e.BQk()),2&g){const a=e.oxw().$implicit,S=e.oxw(3);e.xp6(7),e.hij(" ",e.xi3(8,1,S.getAvailabilityByCourierId(a._id),"1.2-2")," kg ")}}const Ke=function(g,k){return{"border-l-8 border-primary-500":g,"cursor-not-allowed":k}};function We(g,k){if(1&g){const a=e.EpF();e.ynx(0),e.TgZ(1,"div",30)(2,"div",68),e.NdJ("click",function(){const G=e.CHM(a).$implicit,U=e.oxw(3);return e.KtG(U.selectCourier(G._id))}),e.TgZ(3,"div",69),e._uU(4),e.qZA(),e.TgZ(5,"ul",70)(6,"li",71)(7,"div",72),e._uU(8," Costo "),e.qZA(),e.YNc(9,$e,6,6,"ng-container",7),e.YNc(10,Ve,6,6,"ng-container",7),e.YNc(11,Ye,6,6,"ng-container",7),e.qZA(),e.YNc(12,Xe,9,4,"ng-container",7),e.qZA()()(),e.BQk()}if(2&g){const a=k.$implicit,S=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.WLB(6,Ke,a._id===S.shipmentForm.get("courierId").value,S.getAvailabilityByCourierId(a._id)<=S.shipmentForm.get("weight").value)),e.xp6(2),e.hij(" ",a.name," "),e.xp6(5),e.Q6J("ngIf","DIVISION CUBAPACK"===a.name),e.xp6(1),e.Q6J("ngIf","Cubanac\xe1n Express"===a.name),e.xp6(1),e.Q6J("ngIf","EMCI - Empresa de Mensajer\xeda y Cambio Internacional"===a.name),e.xp6(1),e.Q6J("ngIf",S.isShippingTypeSelected)}}function et(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"div",29),e.YNc(2,We,13,9,"ng-container",67),e.qZA(),e.BQk()),2&g){const a=k.ngIf;e.xp6(2),e.Q6J("ngForOf",a)}}function tt(g,k){if(1&g&&(e.ynx(0),e.YNc(1,et,3,1,"ng-container",7),e.ALo(2,"async"),e.BQk()),2&g){const a=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,a.couriers$))}}function nt(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"div",58)(2,"fuse-alert",79),e._uU(3),e.qZA()(),e.BQk()),2&g){const a=e.oxw();e.xp6(2),e.Q6J("appearance","fill")("showIcon",!1)("type",a.alert.type)("@shake","error"===a.alert.type),e.xp6(1),e.hij(" ",a.alert.message," ")}}function it(g,k){if(1&g){const a=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(a);const R=e.oxw();return e.KtG(R.createShipment())}),e._UZ(1,"mat-icon",64),e.TgZ(2,"span",65),e._uU(3,"Guardar"),e.qZA()()}if(2&g){const a=e.oxw();e.Q6J("ngClass",e.VKq(3,Ee,a.shipmentForm.invalid))("disabled",a.shipmentForm.invalid&&null!==a.shipmentForm.get("courierId")),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function rt(g,k){if(1&g){const a=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(a);const R=e.oxw();return e.KtG(R.updateShipment())}),e._UZ(1,"mat-icon",64),e.TgZ(2,"span",65),e._uU(3,"Actualizar"),e.qZA()()}if(2&g){const a=e.oxw();e.Q6J("disabled",a.shipmentForm.invalid&&null!==a.shipmentForm.get("courierId")),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}let at=(()=>{class g{constructor(a,S,R,G,U,$,W,ae,fe,V){this._activatedRoute=a,this._changeDetectorRef=S,this._formBuilder=R,this._freightsService=G,this._fuseConfirmationService=U,this._locationService=$,this._router=W,this._shipmentService=ae,this._weightsService=fe,this.store=V,this.alert={type:"error",message:""},this.cities=[],this.correosCubaCost=0,this.countries=[],this.cubanacanExpressCost=0,this.cubapackCost=0,this.editMode=!1,this.foreignCities=[],this.foreignCountrySelected="",this.foreignStates=[],this.foreignStateSelected="",this.formSubmitted=!1,this.freightCost=0,this.isValid=!1,this.selectedShipment=new Te,this.shipment$=(0,r.of)(null),this.shipmentId=null,this.showAlert=!1,this.states=[],this.stateSelected="",this.user$=(0,r.of)(null),this.summariesWeights$=(0,r.of)([]),this.couriers$=(0,r.of)([]),this.isShippingTypeSelected=!1,this.isQuoted=!1,this._unsubscribeAll=new i.x}ngOnInit(){this.user$=this.store.select(oe.rk),this.user$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this.user=a,this._changeDetectorRef.markForCheck()}),this.summariesWeights$=this.store.select(Se.bo),this.summariesWeights$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this.summariesWeights=a,this._changeDetectorRef.markForCheck()}),this.couriers$=this.store.select(we.gJ),this.couriers$.subscribe(a=>this.couriers=a),this.shipmentForm=this._formBuilder.group({_id:[null],userId:[this.user._id,[o.kI.required]],merchantId:[this.user.merchantId,[o.kI.required]],courierId:[null],client:this._formBuilder.group({idNumber:["G54372891",[o.kI.required]],name:["Alfredo",[o.kI.required]],lastname1:["Pino",[o.kI.required]],lastname2:["Pino"],email:["afredo@mail.com",[o.kI.email,o.kI.required]],phone:["529984739",[o.kI.required]],country:["",[o.kI.required]],state:[{disabled:!0,value:""},[o.kI.required]],city:[{disabled:!0,value:""},[o.kI.required]],address:["459382 Calle Valle",[o.kI.required]],zip:["45682"]}),beneficiary:this._formBuilder.group({idNumber:["00072398473",[o.kI.required]],name:["Adrian",[o.kI.required]],lastname1:["Vega",[o.kI.required]],lastname2:["Lima"],email:["adrian@mail.com",[o.kI.email,o.kI.required]],phone:["536728812",[o.kI.required]],country:[{disabled:!0,value:"Cuba"},[o.kI.required]],state:["",[o.kI.required]],city:[{disabled:!0,value:""},[o.kI.required]],address:["Calle 1 entre A y B",[o.kI.required]],zip:["10400"]}),weight:[null,[o.kI.required,o.kI.min(0),o.kI.max(231.332)]],volume:[null,[o.kI.min(0),o.kI.max(.75)]],value:[783,[o.kI.required,o.kI.min(0)]],amount:[{disabled:!0,value:0},[o.kI.required,o.kI.min(0)]],shippingType:["",[o.kI.required]],shippingStatus:["recibido",[o.kI.required]],serviceType:["",[o.kI.required]],articleType:["",[o.kI.required]],medicalEquipment:[!1],description:["Art\xedculos variados",[o.kI.required]]}),this.shipmentForm.get("weight").valueChanges.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{a>45.8128&&(this.shipmentForm.get("serviceType").patchValue("recogida directa"),this.shipmentForm.get("serviceType").disable()),a<45.8128&&(this.shipmentForm.get("serviceType").reset(),this.shipmentForm.get("serviceType").enable())}),this._activatedRoute.params.pipe((0,l.R)(this._unsubscribeAll)).subscribe(({shipmentId:a})=>{this.shipmentId=a,"new"!==this.shipmentId&&(this.editMode=!0,this.store.select(z).pipe((0,l.R)(this._unsubscribeAll)).subscribe(S=>{this.selectedShipment=S}),this.shipmentForm.patchValue(this.selectedShipment)),this._changeDetectorRef.markForCheck()}),this._locationService.states$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this.states=a,this._changeDetectorRef.markForCheck()}),this._locationService.countries$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this.countries=a,this._changeDetectorRef.markForCheck()}),this._locationService.foreignCities$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this.foreignCities=a,this._changeDetectorRef.markForCheck()}),this._locationService.foreignStates$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this.foreignStates=a,this._changeDetectorRef.markForCheck()}),this.shipmentForm.get("client.country")?.valueChanges.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this._getStateByCountries(a),this.foreignCountrySelected=a,this.shipmentForm.get("client.state").enable(),this._changeDetectorRef.markForCheck()}),this.shipmentForm.get("client.state")?.valueChanges.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this._getCitiesByCountriesAndState(a),this.foreignStateSelected=a,this.shipmentForm.get("client.city").enable(),this._changeDetectorRef.markForCheck()}),this.shipmentForm.get("beneficiary.state")?.valueChanges.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{this._getCitiesByState(a),this.stateSelected=a,this.shipmentForm.get("beneficiary.city").enable(),this._changeDetectorRef.markForCheck()}),this.shipmentForm.get("shippingType")?.valueChanges.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{null!==a?(this._freightsService.getFreightByShippingType(a).pipe((0,l.R)(this._unsubscribeAll)).subscribe(S=>{this.freightCost=S.cost}),this._weightsService.getSummariesWeightsByCouriers(a).subscribe(),this._changeDetectorRef.markForCheck()):this.isShippingTypeSelected=!1}),this.shipmentForm.get("medicalEquipment")?.valueChanges.pipe((0,l.R)(this._unsubscribeAll)).subscribe(a=>{null!==a&&(a&&this.shipmentForm.get("weight").value>45.8128?this.shipmentForm.get("serviceType").setValue("entrega en casa"):this.shipmentForm.get("serviceType").setValue("recogida directa"),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createShipment(){let a=this.shipmentForm.getRawValue();a=(0,he.omit)(a,["_id"]),this._fuseConfirmationService.open({title:"Crear env\xedo",message:"\xbfEst\xe1 seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(R=>{"confirmed"===R&&this._shipmentService.createShipment(a).pipe((0,l.R)(this._unsubscribeAll)).subscribe(()=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:"Env\xedo creado correctamente",icon:{show:!0,name:"heroicons_outline:check",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1}),this._router.navigateByUrl("/shipments"),this._changeDetectorRef.markForCheck()})}),this._changeDetectorRef.markForCheck()}quote(){if(this.shipmentForm.invalid)return this.alert={type:"error",message:"Rellene correctamente todos los datos del formulario"},this.showAlert=!0,void setTimeout(()=>{this.showAlert=!1},3e3);const a=this.shipmentForm.getRawValue(),S=a.articleType,R=a.serviceType,U=a.weight,$=a.beneficiary.state,W=Math.ceil(2.20462*a.weight),ae=Oe.find(V=>V.state===a.beneficiary.state).zone;if("mensajer\xeda"===S&&(this.cubapackCost=ye.find(V=>V.zone===ae&&V.type===R&&V.article===S).cost*W),"cartas"===S){const V=ye.find(q=>q.zone===ae&&q.type===R&&"correspondencia"===q.article);if(2.20462*U<=.375&&(this.cubapackCost=V.cost),2.20462*U==1&&(this.cubapackCost=12),2.20462*U>1){const q=Math.ceil(2.20462*U-1);this.cubapackCost=12+2*q}}if("duradero"===S&&"entrega en casa"===R){const q=be.find(J=>J.type===R&&J.state===$).ranges;this.cubapackCost=q.find(J=>J.init<=W&&J.end>=W).cost}if("duradero"===S&&"recogida directa"===R&&!a.medicalEquipment){const q=be.find(J=>J.type===R).ranges;U<45.8128&&(this.cubapackCost=q.find(J=>J.init<=W&&J.end>=W).cost),U>=45.8128&&!a.medicalEquipment&&(this.cubapackCost=130)}if("duradero"===S&&a.medicalEquipment){const q=be.find(J=>"entrega en casa"===J.type&&J.state===$).ranges;U>=45.8128&&a.medicalEquipment&&(this.cubapackCost=q.find(J=>J.init<=100&&J.end>=100).cost+Math.ceil(W-101))}{const V=le.find(q=>q.state===a.beneficiary.state).zone;if("La Habana"===$&&"recogida directa"===R&&U<=1.5&&(this.cubanacanExpressCost=6),"La Habana"===$&&"recogida directa"===R&&U>1.5){const q=Math.ceil(U-1.5);this.cubanacanExpressCost=6+1.25*q}if("La Habana"===$&&"entrega en casa"===R&&U<=1.5&&(this.cubanacanExpressCost=9),"La Habana"===$&&"entrega en casa"===R&&U>1.5){const q=Math.ceil(U-1.5);this.cubanacanExpressCost=6+1.25*q+3}if("La Habana"!==$&&"recogida directa"===R&&U<=1.5&&(this.cubanacanExpressCost=le.find(q=>q.state===a.beneficiary.state).cost),"La Habana"!==$&&"recogida directa"===R&&U>1.5){const q=Math.ceil(U-1.5);this.cubanacanExpressCost=le.find(J=>J.state===a.beneficiary.state).cost+1.25*q}if("La Habana"!==$&&"entrega en casa"===R&&U<=1.5){const q=le.find(J=>J.state===a.beneficiary.state).cost;switch(V){case"A":this.cubanacanExpressCost=q+4;break;case"B":this.cubanacanExpressCost=q+5;break;case"C":this.cubanacanExpressCost=q+6;break;default:this.cubanacanExpressCost=q}}if("La Habana"!==$&&"entrega en casa"===R&&U>1.5){const q=Math.ceil(U-1.5),J=le.find(yt=>yt.state===a.beneficiary.state).cost+1.25*q;switch(V){case"A":this.cubanacanExpressCost=J+4;break;case"B":this.cubanacanExpressCost=J+5;break;case"C":this.cubanacanExpressCost=J+6;break;default:this.cubanacanExpressCost=J}}}if("mensajer\xeda"===S||U<=120){let V=!1;if(U>10&&U<=25&&(V=!0),V){const q=Math.ceil(U-1.55);this.correosCubaCost=2*q}V||(this.correosCubaCost=ke.find(q=>q.init<U&&q.end>=U).cost)}const fe=Math.max(this.cubapackCost,this.cubanacanExpressCost,this.correosCubaCost);this.shipmentForm.get("amount").patchValue(fe+this.freightCost),this.isShippingTypeSelected=!0,this.isQuoted=!0}getAvailabilityByCourierId(a){const S=this.summariesWeights.findIndex(U=>U.courierId===a);return this.summariesWeights[S].weightAvailable-(this.summariesWeights[S].weightShipped?this.summariesWeights[S].weightShipped:0)}selectCourier(a){a===this.shipmentForm.get("courierId").value||this.getAvailabilityByCourierId(a)<=this.shipmentForm.get("weight").value||this.shipmentForm.get("courierId").setValue(a)}_getCitiesByState(a){a!==this.stateSelected&&this._locationService.getCitiesByState(a).subscribe(S=>{this.cities=S,this._changeDetectorRef.markForCheck()})}_getStateByCountries(a){a!==this.foreignCountrySelected&&this._locationService.getAllStateInCountry({country:a}).subscribe()}_getCitiesByCountriesAndState(a){a!==this.foreignStateSelected&&this._locationService.getAllCitiesInState({country:this.foreignCountrySelected,state:a}).subscribe()}}return g.\u0275fac=function(a){return new(a||g)(e.Y36(E.gz),e.Y36(e.sBO),e.Y36(o.QS),e.Y36(Ce.H),e.Y36(Ie.R),e.Y36(Ze.a),e.Y36(E.F0),e.Y36(ee),e.Y36(Re.g),e.Y36(C.yh))},g.\u0275cmp=e.Xpm({type:g,selectors:[["ath-shipment-details"]],decls:225,vars:72,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-mine-50","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-700",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[4,"ngIf"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","","class","ml-4 text-white bg-primary-500 hover:shadow-lg rounded-md","mat-button","",3,"ngClass","disabled","click",4,"ngIf"],["mat-raised-button","","class","ml-4 text-white bg-primary-500 hover:shadow-lg rounded-md","mat-button","",3,"disabled","click",4,"ngIf"],[1,"flex-auto","p-6","shadow","bg-mine-200","sm:p-10","rounded-t-2xl"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],[1,"flex","items-center","mb-4"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","mb-6","border-t-2","gap-y-3","gap-x-6","sm:p-8","sm:grid-cols-4",3,"formGroupName"],[1,"mt-3","sm:mt-0"],[1,"w-full","fuse-mat-no-subscript"],["placeholder","Escriba el N\xfamero de Identidad o Pasaporte","matInput","","required","",3,"type","formControlName"],[1,""],["matInput","","required","",3,"type","formControlName","placeholder"],["matInput","","required","",3,"type","formControlName"],["matInput","",3,"type","formControlName"],[1,"grid","justify-between","gap-3","sm:grid-cols-3","sm:col-span-4"],[1,"col-span-3","sm:col-span-1"],["formControlName","country"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["formControlName","state"],["formControlName","city"],[1,"sm:col-span-4"],["matInput","","required","",3,"placeholder","formControlName"],[1,"grid","w-full","mb-6","border-t-2","gap-y-3","gap-x-6","sm:p-8","sm:grid-cols-4"],["placeholder","Peso","min","0","matInput","","required","",3,"type","formControlName"],["matSuffix",""],["placeholder","Volumen","min","0","matInput","",3,"type","formControlName"],["placeholder","Valor del bulto","min","0","matInput","","required","",3,"type","formControlName"],["matInput","","required","",3,"formControlName"],["value",""],["value","A\xe9reo"],["value","Mar\xedtimo"],["value","entrega en casa"],["value","recogida directa"],["value","duradero"],["value","mensajer\xeda"],["value","cartas"],["value","documentos"],["placeholder","Costo","min","0","matInput","","required","",3,"type","formControlName"],[1,"mt-3","sm:mt-6"],["mat-raised-button","",1,"w-full","text-white","rounded-md","bg-primary-500","hover:shadow-lg",3,"click"],[1,"text-white"],[1,"col-span-4","mt-3","sm:mt-0"],[3,"color","formControlName"],["matInput","","matTextareaAutosize","","maxlength","10000","rows","4",3,"formControlName"],[1,"flex","items-center","justify-center"],[1,"ml-1","text-primary-700"],["mat-raised-button","","mat-button","",1,"ml-4","text-white","bg-primary-500","hover:shadow-lg","rounded-md",3,"ngClass","disabled","click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["mat-raised-button","","mat-button","",1,"ml-4","text-white","bg-primary-500","hover:shadow-lg","rounded-md",3,"disabled","click"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","p-6","overflow-hidden","transition-shadow","duration-100","ease-linear","rounded-lg","shadow","cursor-pointer","bg-card","hover:shadow-lg",3,"ngClass","click"],[1,"text-lg","font-medium","leading-6","tracking-tight","truncate","border-b","border-gray-100"],[1,"pt-3","list-disc"],[1,"flex","items-start","justify-between","flex-wrap"],[1,"text-md","leading-6","tracking-tight","truncate"],[1,"ml-2"],[1,"h-6","px-2","bg-yellow-100","rounded-lg","min-h-6"],[1,"font-mono","text-md","text-yellow-900"],[1,"flex","items-start","justify-between"],[1,"h-6","px-2","rounded-lg","min-h-6"],[1,"font-mono","text-md"],[3,"appearance","showIcon","type"]],template:function(a,S){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",5),e._uU(11,"Env\xedos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.YNc(14,Pe,3,0,"ng-container",7),e.YNc(15,Ne,3,1,"ng-container",7),e.qZA()(),e.TgZ(16,"div",8)(17,"a",9),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",10),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",11)(22,"div",12),e.YNc(23,Le,2,0,"ng-container",7),e.YNc(24,qe,2,1,"ng-container",7),e.qZA()()(),e.TgZ(25,"div",13),e.YNc(26,je,4,5,"button",14),e.YNc(27,Fe,4,2,"button",15),e.qZA()(),e.TgZ(28,"div",16)(29,"div",17)(30,"form",18)(31,"div",19)(32,"div",20),e._uU(33," Informaci\xf3n del Cliente "),e.qZA()(),e.TgZ(34,"div",21)(35,"div",22)(36,"mat-form-field",23)(37,"mat-label"),e._uU(38,"N\xfamero de Identidad o Pasaporte"),e.qZA(),e._UZ(39,"input",24),e.qZA()(),e.TgZ(40,"div",25)(41,"mat-form-field",23)(42,"mat-label"),e._uU(43,"Nombre"),e.qZA(),e._UZ(44,"input",26),e.qZA()(),e.TgZ(45,"div",25)(46,"mat-form-field",23)(47,"mat-label"),e._uU(48,"Primer Apellido"),e.qZA(),e._UZ(49,"input",27),e.qZA()(),e.TgZ(50,"div",25)(51,"mat-form-field",23)(52,"mat-label"),e._uU(53,"Segundo Apellido"),e.qZA(),e._UZ(54,"input",28),e.qZA()(),e.TgZ(55,"div",29)(56,"div",30)(57,"mat-form-field",23)(58,"mat-label"),e._uU(59,"Pa\xeds"),e.qZA(),e.TgZ(60,"mat-select",31)(61,"mat-option",32),e._uU(62,"Seleccione el pa\xeds"),e.qZA(),e.YNc(63,Qe,2,2,"mat-option",33),e.qZA()()(),e.TgZ(64,"div",30)(65,"mat-form-field",23)(66,"mat-label"),e._uU(67,"Estado"),e.qZA(),e._UZ(68,"mat-icon",34),e.TgZ(69,"mat-select",35)(70,"mat-option",32),e._uU(71,"Seleccione el estado"),e.qZA(),e.YNc(72,ze,2,2,"mat-option",33),e.qZA()()(),e.TgZ(73,"div",30)(74,"mat-form-field",23)(75,"mat-label"),e._uU(76,"Ciudad"),e.qZA(),e._UZ(77,"mat-icon",34),e.TgZ(78,"mat-select",36)(79,"mat-option",32),e._uU(80,"Seleccione la ciudad"),e.qZA(),e.YNc(81,Je,2,2,"mat-option",33),e.qZA()()()(),e.TgZ(82,"div",37)(83,"mat-form-field",23)(84,"mat-label"),e._uU(85,"Direcci\xf3n"),e.qZA(),e._UZ(86,"textarea",38),e.qZA()()(),e.TgZ(87,"div",19)(88,"div",20),e._uU(89," Informaci\xf3n del Beneficiario "),e.qZA()(),e.TgZ(90,"div",21)(91,"div",22)(92,"mat-form-field",23)(93,"mat-label"),e._uU(94,"N\xfamero de Identidad o Pasaporte"),e.qZA(),e._UZ(95,"input",24),e.qZA()(),e.TgZ(96,"div",25)(97,"mat-form-field",23)(98,"mat-label"),e._uU(99,"Nombre"),e.qZA(),e._UZ(100,"input",26),e.qZA()(),e.TgZ(101,"div",25)(102,"mat-form-field",23)(103,"mat-label"),e._uU(104,"Primer Apellido"),e.qZA(),e._UZ(105,"input",27),e.qZA()(),e.TgZ(106,"div",25)(107,"mat-form-field",23)(108,"mat-label"),e._uU(109,"Segundo Apellido"),e.qZA(),e._UZ(110,"input",28),e.qZA()(),e.TgZ(111,"div",29)(112,"div",30)(113,"mat-form-field",23)(114,"mat-label"),e._uU(115,"Pa\xeds"),e.qZA(),e._UZ(116,"input",28),e.qZA()(),e.TgZ(117,"div",30)(118,"mat-form-field",23)(119,"mat-label"),e._uU(120,"Provincia"),e.qZA(),e._UZ(121,"mat-icon",34),e.TgZ(122,"mat-select",35)(123,"mat-option",32),e._uU(124,"Seleccione la provincia"),e.qZA(),e.YNc(125,Ge,2,2,"mat-option",33),e.qZA()()(),e.TgZ(126,"div",30)(127,"mat-form-field",23)(128,"mat-label"),e._uU(129,"Municipio"),e.qZA(),e._UZ(130,"mat-icon",34),e.TgZ(131,"mat-select",36)(132,"mat-option",32),e._uU(133,"Seleccione el municipio"),e.qZA(),e.YNc(134,He,2,2,"mat-option",33),e.qZA()()()(),e.TgZ(135,"div",37)(136,"mat-form-field",23)(137,"mat-label"),e._uU(138,"Direcci\xf3n"),e.qZA(),e._UZ(139,"textarea",38),e.qZA()()(),e.TgZ(140,"div",19)(141,"div",20),e._uU(142," Informaci\xf3n del Env\xedo "),e.qZA()(),e.TgZ(143,"div",39)(144,"div",22)(145,"mat-form-field",23)(146,"mat-label"),e._uU(147,"Peso"),e.qZA(),e._UZ(148,"input",40),e.TgZ(149,"span",41),e._uU(150,"kg"),e.qZA()()(),e.TgZ(151,"div",22)(152,"mat-form-field",23)(153,"mat-label"),e._uU(154,"Volumen"),e.qZA(),e._UZ(155,"input",42),e.TgZ(156,"span",41),e._uU(157,"m3"),e.qZA()()(),e.TgZ(158,"div",22)(159,"mat-form-field",23)(160,"mat-label"),e._uU(161,"Valor"),e.qZA(),e._UZ(162,"input",43),e.TgZ(163,"span",41),e._uU(164,"USD"),e.qZA()()(),e.TgZ(165,"div",22)(166,"mat-form-field",23)(167,"mat-label"),e._uU(168,"Tipo de env\xedo"),e.qZA(),e.TgZ(169,"mat-select",44)(170,"mat-option",45),e._uU(171,"Seleccionar Tipo de Env\xedo"),e.qZA(),e.TgZ(172,"mat-option",46),e._uU(173,"A\xe9reo"),e.qZA(),e.TgZ(174,"mat-option",47),e._uU(175,"Mar\xedtimo"),e.qZA()()()(),e.TgZ(176,"div",22)(177,"mat-form-field",23)(178,"mat-label"),e._uU(179,"Tipo de servicio"),e.qZA(),e.TgZ(180,"mat-select",44)(181,"mat-option",45),e._uU(182,"Seleccionar Tipo de Servicio"),e.qZA(),e.TgZ(183,"mat-option",48),e._uU(184,"Entrega en Casa"),e.qZA(),e.TgZ(185,"mat-option",49),e._uU(186,"Recogida Directa"),e.qZA()()()(),e.TgZ(187,"div",22)(188,"mat-form-field",23)(189,"mat-label"),e._uU(190,"Tipo de art\xedculo"),e.qZA(),e.TgZ(191,"mat-select",44)(192,"mat-option",45),e._uU(193,"Seleccionar Tipo de Art\xedculo"),e.qZA(),e.TgZ(194,"mat-option",50),e._uU(195,"duradero"),e.qZA(),e.TgZ(196,"mat-option",51),e._uU(197,"mensajer\xeda"),e.qZA(),e.TgZ(198,"mat-option",52),e._uU(199,"cartas"),e.qZA(),e.TgZ(200,"mat-option",53),e._uU(201,"documentos"),e.qZA()()()(),e.TgZ(202,"div",22)(203,"mat-form-field",23)(204,"mat-label"),e._uU(205,"Costo"),e.qZA(),e._UZ(206,"input",54),e.TgZ(207,"span",41),e._uU(208,"USD"),e.qZA()()(),e.TgZ(209,"div",55)(210,"button",56),e.NdJ("click",function(){return S.quote()}),e.TgZ(211,"span",57),e._uU(212,"Cotizar"),e.qZA()()(),e.TgZ(213,"div",58)(214,"mat-checkbox",59),e._uU(215," \xbfEs un equipo m\xe9dico ortop\xe9dico? "),e.qZA()(),e.YNc(216,tt,3,3,"ng-container",7),e.YNc(217,nt,4,5,"ng-container",7),e.TgZ(218,"mat-form-field",58)(219,"mat-label"),e._uU(220,"Descripci\xf3n"),e.qZA(),e._UZ(221,"textarea",60),e.qZA()(),e.TgZ(222,"div",61),e.YNc(223,it,4,5,"button",14),e.YNc(224,rt,4,2,"button",15),e.qZA()()()()()),2&a&&(e.xp6(6),e.Q6J("routerLink","/home"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(1),e.Q6J("routerLink","/shipments"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(1),e.Q6J("ngIf","new"===S.shipmentId),e.xp6(1),e.Q6J("ngIf","new"!==S.shipmentId),e.xp6(2),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(5),e.Q6J("ngIf","new"===S.shipmentId),e.xp6(1),e.Q6J("ngIf","new"!==S.shipmentId),e.xp6(2),e.Q6J("ngIf","new"===S.shipmentId),e.xp6(1),e.Q6J("ngIf","new"!==S.shipmentId),e.xp6(3),e.Q6J("formGroup",S.shipmentForm)("autocomplete","off"),e.xp6(4),e.Q6J("formGroupName","client"),e.xp6(5),e.Q6J("type","text")("formControlName","idNumber"),e.xp6(5),e.Q6J("type","text")("formControlName","name")("placeholder","Nombre"),e.xp6(5),e.Q6J("type","text")("formControlName","lastname1"),e.xp6(5),e.Q6J("type","text")("formControlName","lastname2"),e.xp6(7),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",S.countries),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(2),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",S.foreignStates),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(2),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",S.foreignCities),e.xp6(5),e.Q6J("placeholder","Direcci\xf3n del cliente")("formControlName","address"),e.xp6(4),e.Q6J("formGroupName","beneficiary"),e.xp6(5),e.Q6J("type","text")("formControlName","idNumber"),e.xp6(5),e.Q6J("type","text")("formControlName","name")("placeholder","Nombre"),e.xp6(5),e.Q6J("type","text")("formControlName","lastname1"),e.xp6(5),e.Q6J("type","text")("formControlName","lastname2"),e.xp6(6),e.Q6J("type","text")("formControlName","country"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(2),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",S.states),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(2),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",S.cities),e.xp6(5),e.Q6J("placeholder","Direcci\xf3n del cliente")("formControlName","address"),e.xp6(9),e.Q6J("type","number")("formControlName","weight"),e.xp6(7),e.Q6J("type","number")("formControlName","volume"),e.xp6(7),e.Q6J("type","number")("formControlName","value"),e.xp6(7),e.Q6J("formControlName","shippingType"),e.xp6(11),e.Q6J("formControlName","serviceType"),e.xp6(11),e.Q6J("formControlName","articleType"),e.xp6(15),e.Q6J("type","number")("formControlName","amount"),e.xp6(8),e.Q6J("color","primary")("formControlName","medicalEquipment"),e.xp6(2),e.Q6J("ngIf",S.isQuoted),e.xp6(1),e.Q6J("ngIf",S.showAlert),e.xp6(4),e.Q6J("formControlName","description"),e.xp6(2),e.Q6J("ngIf","new"===S.shipmentId),e.xp6(1),e.Q6J("ngIf","new"!==S.shipmentId))},dependencies:[E.yS,H.mk,H.sg,H.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.nD,o.sg,o.u,o.x0,Ae.PQ,Me.ey,se.lW,Be.oG,ue.Hw,ie.KE,ie.hX,ie.qo,ie.R9,de.Nt,De.gD,Ue.W,H.Ov,H.JJ,H.H9],encapsulation:2,data:{animation:te.L},changeDetection:0}),g})();var ot=h(7243);const ct=["bcElement"];let st=(()=>{class g{constructor(a){this.renderer=a,this.elementType="svg",this.cssClass="barcode",this.format="CODE128",this.lineColor="#000000",this.width=2,this.height=100,this.displayValue=!1,this.fontOptions="",this.font="monospace",this.textAlign="center",this.textPosition="bottom",this.textMargin=2,this.fontSize=20,this.background="#ffffff",this.margin=10,this.marginTop=10,this.marginBottom=10,this.marginLeft=10,this.marginRight=10,this.value="",this.valid=()=>!0}get options(){return{format:this.format,lineColor:this.lineColor,width:this.width,height:this.height,displayValue:this.displayValue,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:this.valid}}ngAfterViewInit(){this.createBarcode()}ngOnChanges(){this.bcElement&&this.createBarcode()}createBarcode(){if(!this.value)return;let a;switch(this.elementType){case"img":a=this.renderer.createElement("img");break;case"canvas":a=this.renderer.createElement("canvas");break;default:a=this.renderer.createElement("svg","svg")}ot(a,this.value,this.options);for(const S of this.bcElement.nativeElement.childNodes)this.renderer.removeChild(this.bcElement.nativeElement,S);this.renderer.appendChild(this.bcElement.nativeElement,a)}}return g.\u0275fac=function(a){return new(a||g)(e.Y36(e.Qsj))},g.\u0275cmp=e.Xpm({type:g,selectors:[["ngx-barcode6"]],viewQuery:function(a,S){if(1&a&&e.Gf(ct,5),2&a){let R;e.iGM(R=e.CRH())&&(S.bcElement=R.first)}},inputs:{elementType:["bc-element-type","elementType"],cssClass:["bc-class","cssClass"],format:["bc-format","format"],lineColor:["bc-line-color","lineColor"],width:["bc-width","width"],height:["bc-height","height"],displayValue:["bc-display-value","displayValue"],fontOptions:["bc-font-options","fontOptions"],font:["bc-font","font"],textAlign:["bc-text-align","textAlign"],textPosition:["bc-text-position","textPosition"],textMargin:["bc-text-margin","textMargin"],fontSize:["bc-font-size","fontSize"],background:["bc-background","background"],margin:["bc-margin","margin"],marginTop:["bc-margin-top","marginTop"],marginBottom:["bc-margin-bottom","marginBottom"],marginLeft:["bc-margin-left","marginLeft"],marginRight:["bc-margin-right","marginRight"],value:["bc-value","value"],valid:["bc-valid","valid"]},features:[e.TTD],decls:2,vars:2,consts:[["bcElement",""]],template:function(a,S){1&a&&e._UZ(0,"div",null,0),2&a&&e.Tol(S.cssClass)},encapsulation:2}),g})(),ut=(()=>{class g{}return g.\u0275fac=function(a){return new(a||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[[]]}),g})();function lt(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"div")(2,"div",9)(3,"div",10)(4,"a",11),e._uU(5,"Inicio"),e.qZA()(),e.TgZ(6,"div",10),e._UZ(7,"mat-icon",12),e.TgZ(8,"a",11),e._uU(9,"Env\xedos"),e.qZA()(),e.TgZ(10,"div",10),e._UZ(11,"mat-icon",12),e.TgZ(12,"a",13),e._uU(13),e.qZA()(),e.TgZ(14,"div",14)(15,"a",15),e._UZ(16,"mat-icon",12),e.TgZ(17,"span",16),e._uU(18,"Regresar"),e.qZA()()()()(),e.TgZ(19,"div",17)(20,"h2",18),e._uU(21),e.qZA()(),e.BQk()),2&g){const a=k.ngIf;e.xp6(4),e.Q6J("routerLink","/home"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(1),e.Q6J("routerLink","/shipment"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(2),e.Oqu(a.barcode),e.xp6(2),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(5),e.hij(" Env\xedo ",a.barcode," ")}}function ft(g,k){1&g&&(e.ynx(0),e.TgZ(1,"span",47),e._uU(2," A "),e.qZA(),e.BQk())}function dt(g,k){1&g&&(e.ynx(0),e.TgZ(1,"span",47),e._uU(2," B "),e.qZA(),e.BQk())}function ht(g,k){1&g&&(e.ynx(0),e.TgZ(1,"span",47),e._uU(2," C "),e.qZA(),e.BQk())}function pt(g,k){if(1&g&&(e.ynx(0),e.TgZ(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22)(5,"div",23),e._UZ(6,"qr-code",24),e.qZA()(),e.TgZ(7,"div",25)(8,"span",26),e._uU(9," WiremidMX "),e.qZA()(),e.TgZ(10,"div",27)(11,"span",28),e._uU(12," Zona "),e.qZA(),e.YNc(13,ft,3,0,"ng-container",3),e.YNc(14,dt,3,0,"ng-container",3),e.YNc(15,ht,3,0,"ng-container",3),e.TgZ(16,"span",29),e._uU(17),e.qZA(),e.TgZ(18,"span",29),e._uU(19),e.qZA()(),e.TgZ(20,"div",30),e._UZ(21,"ngx-barcode6",31),e.qZA()(),e.TgZ(22,"div",32)(23,"div",33)(24,"div",34)(25,"span"),e._uU(26,"Env\xedo"),e.qZA(),e.TgZ(27,"div",27)(28,"span",28),e._uU(29,"COMPROBANTE DE ENTREGA"),e.qZA(),e.TgZ(30,"span"),e._uU(31),e.ALo(32,"uppercase"),e.ALo(33,"uppercase"),e.qZA()()(),e.TgZ(34,"div",35)(35,"span",28),e._uU(36,"DESTINATARIO"),e.qZA(),e.TgZ(37,"span",36),e._uU(38),e.ALo(39,"uppercase"),e.ALo(40,"uppercase"),e.ALo(41,"uppercase"),e.qZA(),e.TgZ(42,"span",37),e._uU(43),e.qZA(),e.TgZ(44,"span",37),e._uU(45),e.qZA(),e.TgZ(46,"span",37),e._uU(47),e.qZA(),e.TgZ(48,"span",37),e._uU(49),e.qZA()(),e.TgZ(50,"div",35)(51,"span",28),e._uU(52,"Cubapack entrega"),e.qZA()(),e.TgZ(53,"div",35)(54,"span",28),e._uU(55,"REMITENTE"),e.qZA(),e.TgZ(56,"span",36),e._uU(57),e.ALo(58,"uppercase"),e.ALo(59,"uppercase"),e.ALo(60,"uppercase"),e.qZA()()(),e.TgZ(61,"div",33)(62,"div",38)(63,"span",28),e._uU(64),e.ALo(65,"number"),e.qZA(),e.TgZ(66,"span",28),e._uU(67),e.qZA()(),e.TgZ(68,"table",39)(69,"tr")(70,"td",40)(71,"span",28),e._uU(72,"Control No:"),e.qZA()(),e._UZ(73,"td",41),e.qZA(),e.TgZ(74,"tr")(75,"td")(76,"span",28),e._uU(77,"Fecha:"),e.qZA()(),e.TgZ(78,"td",42),e._uU(79),e.ALo(80,"date"),e.qZA()(),e.TgZ(81,"tr")(82,"td")(83,"span",28),e._uU(84,"Peso:"),e.qZA()(),e.TgZ(85,"td",42),e._uU(86),e.ALo(87,"number"),e.qZA()()(),e.TgZ(88,"div",35)(89,"div",43)(90,"span",28),e._uU(91,"Mercanc\xeda:"),e.qZA(),e.TgZ(92,"span",28),e._uU(93,"Valor aduana:"),e.qZA()()(),e.TgZ(94,"table",39)(95,"tr")(96,"td",40)(97,"span",44),e._uU(98,"Recibido por:"),e.qZA()(),e._UZ(99,"td",41),e.qZA(),e.TgZ(100,"tr")(101,"td")(102,"span",44),e._uU(103,"Relaci\xf3n familiar:"),e.qZA()(),e._UZ(104,"td",41),e.qZA(),e.TgZ(105,"tr")(106,"td",45)(107,"span",44),e._uU(108,"Firma del que recibe:"),e.qZA()(),e._UZ(109,"td",46),e.qZA(),e.TgZ(110,"tr")(111,"td",45)(112,"span",44),e._uU(113,"Fecha:"),e.qZA()(),e._UZ(114,"td",46),e.qZA(),e.TgZ(115,"tr")(116,"td")(117,"span",44),e._uU(118,"C.I No.:"),e.qZA()(),e._UZ(119,"td",41),e.qZA()()()()()(),e.BQk()),2&g){const a=e.oxw().ngIf,S=e.oxw();e.xp6(6),e.Q6J("value",S.qrData)("size",150),e.xp6(7),e.Q6J("ngIf","La Habana"===a.beneficiaryId.state),e.xp6(1),e.Q6J("ngIf","Matanzas"===a.beneficiaryId.state),e.xp6(1),e.Q6J("ngIf","Camag\xfcey"===a.beneficiaryId.state),e.xp6(2),e.hij(" ",a.beneficiaryId.state," "),e.xp6(2),e.hij(" ",a.beneficiaryId.city," "),e.xp6(2),e.Q6J("bc-format","CODE128")("bc-value",a.barcode)("bc-display-value",!0),e.xp6(10),e.AsE("* ",e.lcZ(32,26,a.serviceType)," / ",e.lcZ(33,28,a.articleType)," *"),e.xp6(7),e.lnq("",e.lcZ(39,30,a.beneficiaryId.name)," ",e.lcZ(40,32,a.beneficiaryId.lastname1)," ",e.lcZ(41,34,a.beneficiaryId.lastname2),""),e.xp6(5),e.Oqu(a.beneficiaryId.address),e.xp6(2),e.Oqu(a.beneficiaryId.state),e.xp6(2),e.Oqu(a.beneficiaryId.city),e.xp6(2),e.Oqu(a.beneficiaryId.phone),e.xp6(8),e.lnq("",e.lcZ(58,36,a.clientId.name)," ",e.lcZ(59,38,a.clientId.lastname1)," ",e.lcZ(60,40,a.clientId.lastname2),""),e.xp6(7),e.hij("",e.xi3(65,42,a.weight,"1.1-4")," kg DC"),e.xp6(3),e.hij("Paquete No: ",a.barcode," "),e.xp6(12),e.Oqu(e.xi3(80,45,a.createdAt,"dd/MM/yyyy")),e.xp6(7),e.hij("",e.xi3(87,48,2.20462*a.weight,"1.2-2")," lb ")}}function mt(g,k){if(1&g&&(e.ynx(0),e.YNc(1,pt,120,51,"ng-container",3),e.BQk()),2&g){const a=k.ngIf;e.xp6(1),e.Q6J("ngIf",null!==a)}}let gt=(()=>{class g{constructor(a,S,R,G){this._activatedRoute=a,this._changeDetectorRef=S,this._router=R,this.store=G,this.shipment$=(0,r.of)(null),this.shipment=null,this.qrData=null,this._unsubscribeAll=new i.x}ngOnInit(){this.shipment$=this.store.select(z),this.shipment$.subscribe(a=>{this.shipment=a,this.buildQrData(a)})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}printDocument(){window.print()}buildQrData(a){this.qrData=`${a.clientId.name+" "+a.clientId.lastname1+" "+a.clientId.lastname2}\n${a.clientId.country}\n${a.beneficiaryId.name+" "+a.beneficiaryId.lastname1+" "+a.beneficiaryId.lastname2}\n${a.beneficiaryId.phone}\n${a.weight}\n${a.amount}\n${a.barcode}\n${a.serviceType}`}}return g.\u0275fac=function(a){return new(a||g)(e.Y36(E.gz),e.Y36(e.sBO),e.Y36(E.F0),e.Y36(C.yh))},g.\u0275cmp=e.Xpm({type:g,selectors:[["ath-shipment-label"]],decls:13,vars:7,consts:[["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","text-center","print:overflow-visible"],[1,"flex","flex-col","flex-wrap","p-6","py-8","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:px-10","bg-mine-50","dark:bg-transparent","print:hidden"],[1,"flex-1","min-w-0"],[4,"ngIf"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","","mat-button","",1,"ml-4","text-white","bg-primary-500",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"inline-block","p-6","text-left","sm:p-10","print:p-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-700",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-700"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","text-left","truncate","md:text-4xl","sm:leading-10"],[1,"p-4","border","shadow","w-240","min-w-240","rounded-2xl","bg-card","print:w-auto","print:p-0","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","flex-col","p-4","border","border-gray-500"],[1,"grid","label-row1-grid"],[1,""],[1,"w-36","h-36"],[3,"value","size"],[1,"flex","items-center","justify-center"],[1,"text-3xl","font-semibold"],[1,"flex","flex-col","items-center","justify-center"],[1,"text-xl","font-semibold"],[1,"-mt-1","text-2xl","font-semibold"],[1,"flex","justify-end"],[3,"bc-format","bc-value","bc-display-value"],[1,"grid","label-row2-grid"],[1,"flex","flex-col"],[1,"flex","flex-row","items-center","gap-5","mt-2"],[1,"flex","flex-col","items-start","justify-center","mt-2"],[1,"text-xl"],[1,"-mt-1","text-xl"],[1,"flex","flex-col","items-start","justify-center","mt-2","border-b-2","border-gray-900"],[1,"mt-5"],[1,"w-1/3"],[1,"w-2/3","border-b-2","border-gray-900"],[1,"w-full","text-xl"],[1,"grid","w-full","grid-cols-2"],[1,"text-lg"],[1,"w-1/4"],[1,"w-1/4","border-b-2","border-gray-900"],[1,"text-2xl","font-bold"]],template:function(a,S){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,lt,22,8,"ng-container",3),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return S.printDocument()}),e._UZ(7,"mat-icon",6),e.TgZ(8,"span",7),e._uU(9,"Imprimir"),e.qZA()()()(),e.TgZ(10,"div",8),e.YNc(11,mt,2,1,"ng-container",3),e.ALo(12,"async"),e.qZA()()),2&a&&(e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,S.shipment$)),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:printer"),e.xp6(4),e.Q6J("ngIf",e.lcZ(12,5,S.shipment$)))},dependencies:[E.yS,H.O5,Ae.PQ,se.lW,ue.Hw,_,st,H.Ov,H.gd,H.JJ,H.uU],encapsulation:2,changeDetection:0}),g})();const xt=[{path:"",component:K,resolve:{shipments:(()=>{class g{constructor(a){this._shipmentService=a}resolve(a,S){return this._shipmentService.getShipments()}}return g.\u0275fac=function(a){return new(a||g)(e.LFG(ee))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}},{path:":shipmentId",component:at,resolve:{couriers:A.O}},{path:"label/:shipmentId",component:gt,resolve:{shipment:(()=>{class g{constructor(a){this._shipmentService=a}resolve(a,S){const R=a.paramMap.get("shipmentId");if(null!==R)return this._shipmentService.getShipmentById(R)}}return g.\u0275fac=function(a){return new(a||g)(e.LFG(ee))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}];let bt=(()=>{class g{}return g.\u0275fac=function(a){return new(a||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[E.Bz.forChild(xt),v.m,w,ut]}),g})()},7243:(M,f,h)=>{"use strict";var y=C(h(9721)),_=C(h(4070)),E=C(h(6162)),A=C(h(3800)),t=C(h(1731)),r=C(h(70)),s=C(h(3930)),l=h(7497),T=C(h(7850));function C(D){return D&&D.__esModule?D:{default:D}}var Z=function(){},z=function(Q,N,L){var F=new Z;if(typeof Q>"u")throw Error("No element to render on was provided.");return F._renderProperties=(0,t.default)(Q),F._encodings=[],F._options=T.default,F._errorHandler=new s.default(F),typeof N<"u"&&((L=L||{}).format||(L.format=ce()),F.options(L)[L.format](N,L).render()),F};for(var j in z.getModule=function(D){return y.default[D]},y.default)y.default.hasOwnProperty(j)&&X(y.default,j);function X(D,Q){Z.prototype[Q]=Z.prototype[Q.toUpperCase()]=Z.prototype[Q.toLowerCase()]=function(N,L){var F=this;return F._errorHandler.wrapBarcodeCall(function(){L.text=typeof L.text>"u"?void 0:""+L.text;var Y=(0,_.default)(F._options,L);Y=(0,r.default)(Y);var ee=te(N,D[Q],Y);return F._encodings.push(ee),F})}}function te(D,Q,N){var L=new Q(D=""+D,N);if(!L.valid())throw new l.InvalidInputException(L.constructor.name,D);var F=L.encode();F=(0,E.default)(F);for(var Y=0;Y<F.length;Y++)F[Y].options=(0,_.default)(N,F[Y].options);return F}function ce(){return y.default.CODE128?"CODE128":Object.keys(y.default)[0]}function re(D,Q,N){Q=(0,E.default)(Q);for(var L=0;L<Q.length;L++)Q[L].options=(0,_.default)(N,Q[L].options),(0,A.default)(Q[L].options);(0,A.default)(N),new(0,D.renderer)(D.element,Q,N).render(),D.afterRender&&D.afterRender()}Z.prototype.options=function(D){return this._options=(0,_.default)(this._options,D),this},Z.prototype.blank=function(D){var Q=new Array(D+1).join("0");return this._encodings.push({data:Q}),this},Z.prototype.init=function(){var D;if(this._renderProperties)for(var Q in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var N=(0,_.default)(this._options,(D=this._renderProperties[Q]).options);"auto"==N.format&&(N.format=ce()),this._errorHandler.wrapBarcodeCall(function(){var Y=te(N.value,y.default[N.format.toUpperCase()],N);re(D,Y,N)})}},Z.prototype.render=function(){if(!this._renderProperties)throw new l.NoElementException;if(Array.isArray(this._renderProperties))for(var D=0;D<this._renderProperties.length;D++)re(this._renderProperties[D],this._encodings,this._options);else re(this._renderProperties,this._encodings,this._options);return this},Z.prototype._defaults=T.default,typeof window<"u"&&(window.JsBarcode=z),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(D,Q){var N=[];return jQuery(this).each(function(){N.push(this)}),z(N,D,Q)}),M.exports=z},4648:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=function y(b,_){(function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.data=b,this.text=_.text||b,this.options=_}},6106:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function t(n,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,r,i){return r&&t(n.prototype,r),i&&t(n,i),n}}(),b=function w(t){return t&&t.__esModule?t:{default:t}}(h(4648)),_=h(9068),o=function(t){function n(r,i){!function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var s=function v(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r.substring(1),i));return s.bytes=r.split("").map(function(l){return l.charCodeAt(0)}),s}return function A(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),e(n,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var i=this.bytes,s=i.shift()-105,l=_.SET_BY_CODE[s];if(void 0===l)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&i.unshift(_.FNC1);var m=n.next(i,1,l);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:n.getBar(s)+m.result+n.getBar((m.checksum+s)%_.MODULO)+n.getBar(_.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var i=this.options.ean128||!1;return"string"==typeof i&&(i="true"===i.toLowerCase()),i}}],[{key:"getBar",value:function(i){return _.BARS[i]?_.BARS[i].toString():""}},{key:"correctIndex",value:function(i,s){if(s===_.SET_A){var l=i.shift();return l<32?l+64:l-32}return s===_.SET_B?i.shift()-32:10*(i.shift()-48)+i.shift()-48}},{key:"next",value:function(i,s,l){if(!i.length)return{result:"",checksum:0};var m=void 0,T=void 0;if(i[0]>=200){T=i.shift()-105;var C=_.SWAP[T];void 0!==C?m=n.next(i,s+1,C):((l===_.SET_A||l===_.SET_B)&&T===_.SHIFT&&(i[0]=l===_.SET_A?i[0]>95?i[0]-96:i[0]:i[0]<32?i[0]+96:i[0]),m=n.next(i,s+1,l))}else T=n.correctIndex(i,l),m=n.next(i,s+1,l);return{result:n.getBar(T)+m.result,checksum:T*s+m.checksum}}}]),n}(b.default);f.default=o},8964:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function t(n,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,r,i){return r&&t(n.prototype,r),i&&t(n,i),n}}(),b=function w(t){return t&&t.__esModule?t:{default:t}}(h(6106)),_=h(9068),o=function(t){function n(r,i){return function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function v(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,_.A_START_CHAR+r,i))}return function A(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),e(n,[{key:"valid",value:function(){return new RegExp("^"+_.A_CHARS+"+$").test(this.data)}}]),n}(b.default);f.default=o},3254:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function t(n,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,r,i){return r&&t(n.prototype,r),i&&t(n,i),n}}(),b=function w(t){return t&&t.__esModule?t:{default:t}}(h(6106)),_=h(9068),o=function(t){function n(r,i){return function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function v(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,_.B_START_CHAR+r,i))}return function A(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),e(n,[{key:"valid",value:function(){return new RegExp("^"+_.B_CHARS+"+$").test(this.data)}}]),n}(b.default);f.default=o},5701:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function t(n,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,r,i){return r&&t(n.prototype,r),i&&t(n,i),n}}(),b=function w(t){return t&&t.__esModule?t:{default:t}}(h(6106)),_=h(9068),o=function(t){function n(r,i){return function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function v(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,_.C_START_CHAR+r,i))}return function A(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),e(n,[{key:"valid",value:function(){return new RegExp("^"+_.C_CHARS+"+$").test(this.data)}}]),n}(b.default);f.default=o},5626:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var y=w(h(6106)),_=w(h(4779));function w(t){return t&&t.__esModule?t:{default:t}}function v(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var o=function(t){function n(r,i){if(function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var s=v(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,(0,_.default)(r),i));else s=v(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r,i));return v(s)}return function A(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(y.default);f.default=o},4779:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=h(9068),y=function(A){return A.match(new RegExp("^"+e.A_CHARS+"*"))[0].length},b=function(A){return A.match(new RegExp("^"+e.B_CHARS+"*"))[0].length},_=function(A){return A.match(new RegExp("^"+e.C_CHARS+"*"))[0]};function w(v,A){var o=A?e.A_CHARS:e.B_CHARS,t=v.match(new RegExp("^("+o+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(t)return t[1]+String.fromCharCode(204)+E(v.substring(t[1].length));var n=v.match(new RegExp("^"+o+"+"))[0];return n.length===v.length?v:n+String.fromCharCode(A?205:206)+w(v.substring(n.length),!A)}function E(v){var A=_(v),o=A.length;if(o===v.length)return v;v=v.substring(o);var t=y(v)>=b(v);return A+String.fromCharCode(t?206:205)+w(v,t)}f.default=function(v){var A=void 0;if(_(v).length>=2)A=e.C_START_CHAR+E(v);else{var t=y(v)>b(v);A=(t?e.A_START_CHAR:e.B_START_CHAR)+w(v,t)}return A.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(n,r){return String.fromCharCode(203)+r})}},9068:(M,f)=>{"use strict";var h;function e(j,X,te){return X in j?Object.defineProperty(j,X,{value:te,enumerable:!0,configurable:!0,writable:!0}):j[X]=te,j}Object.defineProperty(f,"__esModule",{value:!0});var y=f.SET_A=0,b=f.SET_B=1,_=f.SET_C=2,E=(f.SHIFT=98,f.START_A=103),v=f.START_B=104,A=f.START_C=105;f.MODULO=103,f.STOP=106,f.FNC1=207,f.SET_BY_CODE=(e(h={},E,y),e(h,v,b),e(h,A,_),h),f.SWAP={101:y,100:b,99:_},f.A_START_CHAR=String.fromCharCode(208),f.B_START_CHAR=String.fromCharCode(209),f.C_START_CHAR=String.fromCharCode(210),f.A_CHARS="[\0-_\xc8-\xcf]",f.B_CHARS="[ -\x7f\xc8-\xcf]",f.C_CHARS="(\xcf*[0-9]{2}\xcf*)",f.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},6038:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.CODE128C=f.CODE128B=f.CODE128A=f.CODE128=void 0;var y=o(h(5626)),_=o(h(8964)),E=o(h(3254)),A=o(h(5701));function o(t){return t&&t.__esModule?t:{default:t}}f.CODE128=y.default,f.CODE128A=_.default,f.CODE128B=E.default,f.CODE128C=A.default},528:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.CODE39=void 0;var e=function(){function m(T,C){for(var Z=0;Z<C.length;Z++){var z=C[Z];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(T,z.key,z)}}return function(T,C,Z){return C&&m(T.prototype,C),Z&&m(T,Z),T}}(),A=function(m){function T(C,Z){return function w(m,T){if(!(m instanceof T))throw new TypeError("Cannot call a class as a function")}(this,T),C=C.toUpperCase(),Z.mod43&&(C+=function i(m){return o[m]}(function l(m){for(var T=0,C=0;C<m.length;C++)T+=s(m[C]);return T%43}(C))),function E(m,T){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?m:T}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,C,Z))}return function v(m,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);m.prototype=Object.create(T&&T.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(m,T):m.__proto__=T)}(T,m),e(T,[{key:"encode",value:function(){for(var Z=n("*"),z=0;z<this.data.length;z++)Z+=n(this.data[z])+"0";return{data:Z+=n("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),T}(function _(m){return m&&m.__esModule?m:{default:m}}(h(4648)).default),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],t=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function n(m){return function r(m){return t[m].toString(2)}(s(m))}function s(m){return o.indexOf(m)}f.CODE39=A},7417:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function r(i,s){for(var l=0;l<s.length;l++){var m=s[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}return function(i,s,l){return s&&r(i.prototype,s),l&&r(i,l),i}}(),y=h(3819),_=v(h(9259));function v(r){return r&&r.__esModule?r:{default:r}}var n=function(r){function i(s,l){!function A(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var m=function o(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?r:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s,l));return m.fontSize=!l.flat&&l.fontSize>10*l.width?10*l.width:l.fontSize,m.guardHeight=l.height+m.fontSize/2+l.textMargin,m}return function t(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}(i,r),e(i,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(l,m){return this.text.substr(l,m)}},{key:"leftEncode",value:function(l,m){return(0,_.default)(l,m)}},{key:"rightText",value:function(l,m){return this.text.substr(l,m)}},{key:"rightEncode",value:function(l,m){return(0,_.default)(l,m)}},{key:"encodeGuarded",value:function(){var l={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:y.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:l},{data:y.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:l},{data:y.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){return{data:[y.SIDE_BIN,this.leftEncode(),y.MIDDLE_BIN,this.rightEncode(),y.SIDE_BIN].join(""),text:this.text}}}]),i}(v(h(4648)).default);f.default=n},6195:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function r(i,s){for(var l=0;l<s.length;l++){var m=s[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}return function(i,s,l){return s&&r(i.prototype,s),l&&r(i,l),i}}(),y=function r(i,s,l){null===i&&(i=Function.prototype);var m=Object.getOwnPropertyDescriptor(i,s);if(void 0===m){var T=Object.getPrototypeOf(i);return null===T?void 0:r(T,s,l)}if("value"in m)return m.value;var C=m.get;return void 0===C?void 0:C.call(l)},b=h(3819),w=function E(r){return r&&r.__esModule?r:{default:r}}(h(7417)),t=function(i){return(10-i.substr(0,12).split("").map(function(l){return+l}).reduce(function(l,m,T){return T%2?l+3*m:l+m},0)%10)%10},n=function(r){function i(s,l){(function v(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")})(this,i),-1!==s.search(/^[0-9]{12}$/)&&(s+=t(s));var m=function A(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?r:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s,l));return m.lastChar=l.lastChar,m}return function o(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}(i,r),e(i,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===t(this.data)}},{key:"leftText",value:function(){return y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var l=this.data.substr(1,6),m=b.EAN13_STRUCTURE[this.data[0]];return y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftEncode",this).call(this,l,m)}},{key:"rightText",value:function(){return y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var l=this.data.substr(7,6);return y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightEncode",this).call(this,l,"RRRRRR")}},{key:"encodeGuarded",value:function(){var l=y(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(l.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(l.push({data:"00"}),l.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),l}}]),i}(w.default);f.default=n},4500:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function r(i,s){for(var l=0;l<s.length;l++){var m=s[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}return function(i,s,l){return s&&r(i.prototype,s),l&&r(i,l),i}}(),y=h(3819),_=v(h(9259));function v(r){return r&&r.__esModule?r:{default:r}}var n=function(r){function i(s,l){return function A(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function o(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?r:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s,l))}return function t(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}(i,r),e(i,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var l=y.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,_.default)(this.data,l,"01"),text:this.text}}}]),i}(v(h(4648)).default);f.default=n},5174:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function i(s,l){for(var m=0;m<l.length;m++){var T=l[m];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(s,T.key,T)}}return function(s,l,m){return l&&i(s.prototype,l),m&&i(s,m),s}}(),y=h(3819),_=v(h(9259));function v(i){return i&&i.__esModule?i:{default:i}}var r=function(i){function s(l,m){return function A(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),function o(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?i:s}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l,m))}return function t(i,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}(s,i),e(s,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var m=y.EAN5_STRUCTURE[function(s){return s.split("").map(function(m){return+m}).reduce(function(m,T,C){return C%2?m+9*T:m+3*T},0)%10}(this.data)];return{data:"1011"+(0,_.default)(this.data,m,"01"),text:this.text}}}]),s}(v(h(4648)).default);f.default=r},2523:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function n(r,i){for(var s=0;s<i.length;s++){var l=i[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,i,s){return i&&n(r.prototype,i),s&&n(r,s),r}}(),y=function n(r,i,s){null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,i);if(void 0===l){var m=Object.getPrototypeOf(r);return null===m?void 0:n(m,i,s)}if("value"in l)return l.value;var T=l.get;return void 0===T?void 0:T.call(s)},_=function w(n){return n&&n.__esModule?n:{default:n}}(h(7417)),o=function(r){return(10-r.substr(0,7).split("").map(function(s){return+s}).reduce(function(s,l,m){return m%2?s+l:s+3*l},0)%10)%10},t=function(n){function r(i,s){return function E(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),-1!==i.search(/^[0-9]{7}$/)&&(i+=o(i)),function v(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?n:r}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i,s))}return function A(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}(r,n),e(r,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===o(this.data)}},{key:"leftText",value:function(){return y(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var s=this.data.substr(0,4);return y(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftEncode",this).call(this,s,"LLLL")}},{key:"rightText",value:function(){return y(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var s=this.data.substr(4,4);return y(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightEncode",this).call(this,s,"RRRR")}}]),r}(_.default);f.default=t},4102:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function r(i,s){for(var l=0;l<s.length;l++){var m=s[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}return function(i,s,l){return s&&r(i.prototype,s),l&&r(i,l),i}}();f.checksum=n;var b=E(h(9259));function E(r){return r&&r.__esModule?r:{default:r}}var t=function(r){function i(s,l){(function v(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")})(this,i),-1!==s.search(/^[0-9]{11}$/)&&(s+=n(s));var m=function A(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?r:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s,l));return m.displayValue=l.displayValue,m.fontSize=l.fontSize>10*l.width?10*l.width:l.fontSize,m.guardHeight=l.height+m.fontSize/2+l.textMargin,m}return function o(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}(i,r),e(i,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==n(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var l="";return l+="101",l+=(0,b.default)(this.data.substr(0,6),"LLLLLL"),l+="01010",l+=(0,b.default)(this.data.substr(6,6),"RRRRRR"),{data:l+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var l=[];return this.displayValue&&l.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),l.push({data:"101"+(0,b.default)(this.data[0],"L"),options:{height:this.guardHeight}}),l.push({data:(0,b.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),l.push({data:"01010",options:{height:this.guardHeight}}),l.push({data:(0,b.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),l.push({data:(0,b.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&l.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),l}}]),i}(E(h(4648)).default);function n(r){var s,i=0;for(s=1;s<11;s+=2)i+=parseInt(r[s]);for(s=0;s<11;s+=2)i+=3*parseInt(r[s]);return(10-i%10)%10}f.default=t},1285:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function l(m,T){for(var C=0;C<T.length;C++){var Z=T[C];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(m,Z.key,Z)}}return function(m,T,C){return T&&l(m.prototype,T),C&&l(m,C),m}}(),b=v(h(9259)),w=v(h(4648)),E=h(4102);function v(l){return l&&l.__esModule?l:{default:l}}function o(l,m){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?l:m}var n=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],r=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],i=function(l){function m(T,C){!function A(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var Z=o(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,T,C));if(Z.isValid=!1,-1!==T.search(/^[0-9]{6}$/))Z.middleDigits=T,Z.upcA=s(T,"0"),Z.text=C.text||""+Z.upcA[0]+T+Z.upcA[Z.upcA.length-1],Z.isValid=!0;else{if(-1===T.search(/^[01][0-9]{7}$/))return o(Z);if(Z.middleDigits=T.substring(1,T.length-1),Z.upcA=s(Z.middleDigits,T[0]),Z.upcA[Z.upcA.length-1]!==T[T.length-1])return o(Z);Z.isValid=!0}return Z.displayValue=C.displayValue,Z.fontSize=C.fontSize>10*C.width?10*C.width:C.fontSize,Z.guardHeight=C.height+Z.fontSize/2+C.textMargin,Z}return function t(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);l.prototype=Object.create(m&&m.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(l,m):l.__proto__=m)}(m,l),e(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var C="";return C+="101",C+=this.encodeMiddleDigits(),{data:C+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var C=[];return this.displayValue&&C.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),C.push({data:"101",options:{height:this.guardHeight}}),C.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),C.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&C.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),C}},{key:"encodeMiddleDigits",value:function(){var C=this.upcA[0],z=r[parseInt(this.upcA[this.upcA.length-1])][parseInt(C)];return(0,b.default)(this.middleDigits,z)}}]),m}(w.default);function s(l,m){for(var T=parseInt(l[l.length-1]),C=n[T],Z="",z=0,j=0;j<C.length;j++){var X=C[j];Z+="X"===X?l[z++]:X}return(Z=""+m+Z)+(0,E.checksum)(Z)}f.default=i},3819:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.SIDE_BIN="101",f.MIDDLE_BIN="01010",f.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},f.EAN2_STRUCTURE=["LL","LG","GL","GG"],f.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],f.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},9259:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=h(3819);f.default=function(_,w,E){var v=_.split("").map(function(o,t){return e.BINARIES[w[t]]}).map(function(o,t){return o?o[_[t]]:""});if(E){var A=_.length-1;v=v.map(function(o,t){return t<A?o+E:o})}return v.join("")}},7422:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.UPCE=f.UPC=f.EAN2=f.EAN5=f.EAN8=f.EAN13=void 0;var y=i(h(6195)),_=i(h(2523)),E=i(h(5174)),A=i(h(4500)),t=i(h(4102)),r=i(h(1285));function i(s){return s&&s.__esModule?s:{default:s}}f.EAN13=y.default,f.EAN8=_.default,f.EAN5=E.default,f.EAN2=A.default,f.UPC=t.default,f.UPCE=r.default},791:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.GenericBarcode=void 0;var e=function(){function o(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&o(t.prototype,n),r&&o(t,r),t}}(),A=function(o){function t(n,r){return function w(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function E(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return function v(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),e(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(function _(o){return o&&o.__esModule?o:{default:o}}(h(4648)).default);f.GenericBarcode=A},3435:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function t(n,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,r,i){return r&&t(n.prototype,r),i&&t(n,i),n}}(),y=h(5306);function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function v(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var o=function(t){function n(){return E(this,n),v(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function A(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),e(n,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var i=this,s=this.data.match(/.{2}/g).map(function(l){return i.encodePair(l)}).join("");return{data:y.START_BIN+s+y.END_BIN,text:this.text}}},{key:"encodePair",value:function(i){var s=y.BINARIES[i[1]];return y.BINARIES[i[0]].split("").map(function(l,m){return("1"===l?"111":"1")+("1"===s[m]?"000":"0")}).join("")}}]),n}(function w(t){return t&&t.__esModule?t:{default:t}}(h(4648)).default);f.default=o},580:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function t(n,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,r,i){return r&&t(n.prototype,r),i&&t(n,i),n}}(),b=function _(t){return t&&t.__esModule?t:{default:t}}(h(3435)),A=function(n){var r=n.substr(0,13).split("").map(function(i){return parseInt(i,10)}).reduce(function(i,s,l){return i+s*(3-l%2*2)},0);return 10*Math.ceil(r/10)-r},o=function(t){function n(r,i){return function w(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),-1!==r.search(/^[0-9]{13}$/)&&(r+=A(r)),function E(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r,i))}return function v(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),e(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===A(this.data)}}]),n}(b.default);f.default=o},5306:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.START_BIN="1010",f.END_BIN="11101",f.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},7191:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ITF14=f.ITF=void 0;var y=w(h(3435)),_=w(h(580));function w(E){return E&&E.__esModule?E:{default:E}}f.ITF=y.default,f.ITF14=_.default},6431:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function t(n,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,r,i){return r&&t(n.prototype,r),i&&t(n,i),n}}(),A=function(t){function n(r,i){return function w(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function E(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r,i))}return function v(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),e(n,[{key:"encode",value:function(){for(var i="110",s=0;s<this.data.length;s++){var m=parseInt(this.data[s]).toString(2);m=o(m,4-m.length);for(var T=0;T<m.length;T++)i+="0"==m[T]?"100":"110"}return{data:i+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),n}(function _(t){return t&&t.__esModule?t:{default:t}}(h(4648)).default);function o(t,n){for(var r=0;r<n;r++)t="0"+t;return t}f.default=A},7218:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var y=function _(o){return o&&o.__esModule?o:{default:o}}(h(6431)),b=h(6855),A=function(o){function t(n,r){return function w(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function E(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n+(0,b.mod10)(n),r))}return function v(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),t}(y.default);f.default=A},9762:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var y=function _(o){return o&&o.__esModule?o:{default:o}}(h(6431)),b=h(6855),A=function(o){function t(n,r){return function w(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n+=(0,b.mod10)(n),n+=(0,b.mod10)(n),function E(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return function v(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),t}(y.default);f.default=A},3117:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var y=function _(o){return o&&o.__esModule?o:{default:o}}(h(6431)),b=h(6855),A=function(o){function t(n,r){return function w(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function E(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n+(0,b.mod11)(n),r))}return function v(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),t}(y.default);f.default=A},1878:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var y=function _(o){return o&&o.__esModule?o:{default:o}}(h(6431)),b=h(6855),A=function(o){function t(n,r){return function w(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n+=(0,b.mod11)(n),n+=(0,b.mod10)(n),function E(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return function v(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),t}(y.default);f.default=A},6855:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.mod10=function h(y){for(var b=0,_=0;_<y.length;_++){var w=parseInt(y[_]);b+=(_+y.length)%2==0?w:2*w%10+Math.floor(2*w/10)}return(10-b%10)%10},f.mod11=function e(y){for(var b=0,_=[2,3,4,5,6,7],w=0;w<y.length;w++){var E=parseInt(y[y.length-1-w]);b+=_[w%_.length]*E}return(11-b%11)%11}},1395:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.MSI1110=f.MSI1010=f.MSI11=f.MSI10=f.MSI=void 0;var y=n(h(6431)),_=n(h(7218)),E=n(h(3117)),A=n(h(9762)),t=n(h(1878));function n(r){return r&&r.__esModule?r:{default:r}}f.MSI=y.default,f.MSI10=_.default,f.MSI11=E.default,f.MSI1010=A.default,f.MSI1110=t.default},2250:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.codabar=void 0;var e=function(){function o(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&o(t.prototype,n),r&&o(t,r),t}}(),A=function(o){function t(n,r){(function w(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),0===n.search(/^[0-9\-\$\:\.\+\/]+$/)&&(n="A"+n+"A");var i=function E(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function v(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),e(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),s=0;s<this.data.length;s++)r.push(i[this.data.charAt(s)]),s!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(function _(o){return o&&o.__esModule?o:{default:o}}(h(4648)).default);f.codabar=A},9721:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=h(528),y=h(6038),b=h(7422),_=h(7191),w=h(1395),E=h(7624),v=h(2250),A=h(791);f.default={CODE39:e.CODE39,CODE128:y.CODE128,CODE128A:y.CODE128A,CODE128B:y.CODE128B,CODE128C:y.CODE128C,EAN13:b.EAN13,EAN8:b.EAN8,EAN5:b.EAN5,EAN2:b.EAN2,UPC:b.UPC,UPCE:b.UPCE,ITF14:_.ITF14,ITF:_.ITF,MSI:w.MSI,MSI10:w.MSI10,MSI11:w.MSI11,MSI1010:w.MSI1010,MSI1110:w.MSI1110,pharmacode:E.pharmacode,codabar:v.codabar,GenericBarcode:A.GenericBarcode}},7624:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.pharmacode=void 0;var e=function(){function o(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&o(t.prototype,n),r&&o(t,r),t}}(),A=function(o){function t(n,r){!function w(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function E(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return i.number=parseInt(n,10),i}return function v(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),e(t,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&0!=r;)r%2==0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return{data:i=i.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(function _(o){return o&&o.__esModule?o:{default:o}}(h(4648)).default);f.pharmacode=A},3930:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var h=function(){function b(_,w){for(var E=0;E<w.length;E++){var v=w[E];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,w,E){return w&&b(_.prototype,w),E&&b(_,E),_}}(),y=function(){function b(_){(function e(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")})(this,b),this.api=_}return h(b,[{key:"handleCatch",value:function(w){if("InvalidInputException"!==w.name)throw w;if(this.api._options.valid===this.api._defaults.valid)throw w.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(w){try{var E=w.apply(void 0,arguments);return this.api._options.valid(!0),E}catch(v){return this.handleCatch(v),this.api}}}]),b}();f.default=y},7497:(M,f)=>{"use strict";function h(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function e(E,v){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?E:v}function y(E,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);E.prototype=Object.create(v&&v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(E,v):E.__proto__=v)}Object.defineProperty(f,"__esModule",{value:!0});var b=function(E){function v(A,o){h(this,v);var t=e(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return t.name="InvalidInputException",t.symbology=A,t.input=o,t.message='"'+t.input+'" is not a valid input for '+t.symbology,t}return y(v,Error),v}(),_=function(E){function v(){h(this,v);var A=e(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return A.name="InvalidElementException",A.message="Not supported type to render on",A}return y(v,Error),v}(),w=function(E){function v(){h(this,v);var A=e(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return A.name="NoElementException",A.message="No element to render on.",A}return y(v,Error),v}();f.InvalidInputException=b,f.InvalidElementException=_,f.NoElementException=w},3800:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=function h(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}},5704:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var y=w(h(70)),_=w(h(7850));function w(v){return v&&v.__esModule?v:{default:v}}f.default=function E(v){var A={};for(var o in _.default)_.default.hasOwnProperty(o)&&(v.hasAttribute("jsbarcode-"+o.toLowerCase())&&(A[o]=v.getAttribute("jsbarcode-"+o.toLowerCase())),v.hasAttribute("data-"+o.toLowerCase())&&(A[o]=v.getAttribute("data-"+o.toLowerCase())));return A.value=v.getAttribute("jsbarcode-value")||v.getAttribute("data-value"),(0,y.default)(A)}},1731:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},b=v(h(5704)),w=v(h(2216)),E=h(7497);function v(n){return n&&n.__esModule?n:{default:n}}f.default=function A(n){if("string"==typeof n)return function o(n){var r=document.querySelectorAll(n);if(0!==r.length){for(var i=[],s=0;s<r.length;s++)i.push(A(r[s]));return i}}(n);if(Array.isArray(n)){for(var r=[],i=0;i<n.length;i++)r.push(A(n[i]));return r}if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLImageElement)return function t(n){var r=document.createElement("canvas");return{element:r,options:(0,b.default)(n),renderer:w.default.CanvasRenderer,afterRender:function(){n.setAttribute("src",r.toDataURL())}}}(n);if(n&&n.nodeName&&"svg"===n.nodeName.toLowerCase()||typeof SVGElement<"u"&&n instanceof SVGElement)return{element:n,options:(0,b.default)(n),renderer:w.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement)return{element:n,options:(0,b.default)(n),renderer:w.default.CanvasRenderer};if(n&&n.getContext)return{element:n,renderer:w.default.CanvasRenderer};if(n&&"object"===(typeof n>"u"?"undefined":e(n))&&!n.nodeName)return{element:n,renderer:w.default.ObjectRenderer};throw new E.InvalidElementException}},6162:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=function h(e){var y=[];return function b(_){if(Array.isArray(_))for(var w=0;w<_.length;w++)b(_[w]);else _.text=_.text||"",_.data=_.data||"",y.push(_)}(e),y}},4070:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var h=Object.assign||function(e){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(e[_]=b[_])}return e};f.default=function(e,y){return h({},e,y)}},70:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=function h(e){var y=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var b in y)y.hasOwnProperty(b)&&"string"==typeof e[b=y[b]]&&(e[b]=parseInt(e[b],10));return"string"==typeof e.displayValue&&(e.displayValue="false"!=e.displayValue),e}},7850:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},726:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function A(o,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,t,n){return t&&A(o.prototype,t),n&&A(o,n),o}}(),b=function w(A){return A&&A.__esModule?A:{default:A}}(h(4070)),_=h(3737),v=function(){function A(o,t,n){(function E(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")})(this,A),this.canvas=o,this.encodings=t,this.options=n}return e(A,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var n=(0,b.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(n,this.encodings[t]),this.drawCanvasText(n,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,_.calculateEncodingAttributes)(this.encodings,this.options,t);var n=(0,_.getTotalWidthOfEncodings)(this.encodings),r=(0,_.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,n){var s,r=this.canvas.getContext("2d"),i=n.data;s="top"==t.textPosition?t.marginTop+t.fontSize+t.textMargin:t.marginTop,r.fillStyle=t.lineColor;for(var l=0;l<i.length;l++){var m=l*t.width+n.barcodePadding;"1"===i[l]?r.fillRect(m,s,t.width,t.height):i[l]&&r.fillRect(m,s,t.width,t.height*i[l])}}},{key:"drawCanvasText",value:function(t,n){var s,l,r=this.canvas.getContext("2d");t.displayValue&&(l="top"==t.textPosition?t.marginTop+t.fontSize-t.textMargin:t.height+t.textMargin+t.marginTop+t.fontSize,r.font=t.fontOptions+" "+t.fontSize+"px "+t.font,"left"==t.textAlign||n.barcodePadding>0?(s=0,r.textAlign="left"):"right"==t.textAlign?(s=n.width-1,r.textAlign="right"):(s=n.width/2,r.textAlign="center"),r.fillText(n.text,s,l))}},{key:"moveCanvasDrawing",value:function(t){this.canvas.getContext("2d").translate(t.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),A}();f.default=v},2216:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var y=v(h(726)),_=v(h(7902)),E=v(h(8138));function v(A){return A&&A.__esModule?A:{default:A}}f.default={CanvasRenderer:y.default,SVGRenderer:_.default,ObjectRenderer:E.default}},8138:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var h=function(){function b(_,w){for(var E=0;E<w.length;E++){var v=w[E];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,w,E){return w&&b(_.prototype,w),E&&b(_,E),_}}(),y=function(){function b(_,w,E){(function e(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")})(this,b),this.object=_,this.encodings=w,this.options=E}return h(b,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),b}();f.default=y},3737:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.getTotalWidthOfEncodings=f.calculateEncodingAttributes=f.getBarcodePadding=f.getEncodingHeight=f.getMaximumHeightOfEncodings=void 0;var y=function b(t){return t&&t.__esModule?t:{default:t}}(h(4070));function _(t,n){return n.height+(n.displayValue&&t.text.length>0?n.fontSize+n.textMargin:0)+n.marginTop+n.marginBottom}function w(t,n,r){if(r.displayValue&&n<t){if("center"==r.textAlign)return Math.floor((t-n)/2);if("left"==r.textAlign)return 0;if("right"==r.textAlign)return Math.floor(t-n)}return 0}function o(t,n,r){var i;if(r)i=r;else{if(!(typeof document<"u"))return 0;i=document.createElement("canvas").getContext("2d")}i.font=n.fontOptions+" "+n.fontSize+"px "+n.font;var s=i.measureText(t);return s?s.width:0}f.getMaximumHeightOfEncodings=function A(t){for(var n=0,r=0;r<t.length;r++)t[r].height>n&&(n=t[r].height);return n},f.getEncodingHeight=_,f.getBarcodePadding=w,f.calculateEncodingAttributes=function E(t,n,r){for(var i=0;i<t.length;i++){var m,s=t[i],l=(0,y.default)(n,s.options);m=l.displayValue?o(s.text,l,r):0;var T=s.data.length*l.width;s.width=Math.ceil(Math.max(m,T)),s.height=_(s,l),s.barcodePadding=w(m,T,l)}},f.getTotalWidthOfEncodings=function v(t){for(var n=0,r=0;r<t.length;r++)n+=t[r].width;return n}},7902:(M,f,h)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function o(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&o(t.prototype,n),r&&o(t,r),t}}(),b=function w(o){return o&&o.__esModule?o:{default:o}}(h(4070)),_=h(3737),v="http://www.w3.org/2000/svg",A=function(){function o(t,n,r){(function E(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o),this.svg=t,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return e(o,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],s=(0,b.default)(this.options,i.options),l=this.createGroup(n,s.marginTop,this.svg);this.setGroupOptions(l,s),this.drawSvgBarcode(l,s,i),this.drawSVGText(l,s,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,_.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,_.getTotalWidthOfEncodings)(this.encodings),r=(0,_.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var l,s=i.data;l="top"==r.textPosition?r.fontSize+r.textMargin:0;for(var m=0,T=0,C=0;C<s.length;C++)T=C*r.width+i.barcodePadding,"1"===s[C]?m++:m>0&&(this.drawRect(T-r.width*m,l,r.width*m,r.height,n),m=0);m>0&&this.drawRect(T-r.width*(m-1),l,r.width*m,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var l,m,s=this.document.createElementNS(v,"text");r.displayValue&&(s.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),m="top"==r.textPosition?r.fontSize-r.textMargin:r.height+r.textMargin+r.fontSize,"left"==r.textAlign||i.barcodePadding>0?(l=0,s.setAttribute("text-anchor","start")):"right"==r.textAlign?(l=i.width-1,s.setAttribute("text-anchor","end")):(l=i.width/2,s.setAttribute("text-anchor","middle")),s.setAttribute("x",l),s.setAttribute("y",m),s.appendChild(this.document.createTextNode(i.text)),n.appendChild(s))}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",v),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var s=this.document.createElementNS(v,"g");return s.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(s),s}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,s,l){var m=this.document.createElementNS(v,"rect");return m.setAttribute("x",n),m.setAttribute("y",r),m.setAttribute("width",i),m.setAttribute("height",s),l.appendChild(m),m}}]),o}();f.default=A},2516:function(M){M.exports=function(){"use strict";var f=function(){},h=Object.prototype.hasOwnProperty,e=Array.prototype.slice;function _(u,c,d){for(var p,x,O=0,I=(d=e.call(arguments,2)).length;O<I;O++)for(p in x=d[O])(!u||h.call(x,p))&&(c[p]=x[p])}var w=function b(u,c,d,p){var x=this;return"string"!=typeof u&&(p=d,d=c,c=u,u=null),"function"!=typeof c&&(p=d,d=c,c=function(){return x.apply(this,arguments)}),_(!1,c,x,p),c.prototype=function y(u,c){var d;return"function"==typeof Object.create?d=Object.create(u):(f.prototype=u,d=new f,f.prototype=null),c&&_(!0,d,c),d}(x.prototype,d),c.prototype.constructor=c,c.class_=u||x.class_,c.super_=x,c};function E(){}E.class_="Nevis",E.super_=Object,E.extend=w;var A=E,t=A.extend(function(u,c,d){this.qrious=u,this.element=c,this.element.qrious=u,this.enabled=Boolean(d)},{draw:function(u){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(u){var c=this.qrious,p=Math.floor((c.size-2*(c.padding||0))/u.width);return Math.max(1,p)},getOffset:function(u){var c=this.qrious,d=c.padding;if(null!=d)return d;var p=this.getModuleSize(u),x=Math.floor((c.size-p*u.width)/2);return Math.max(0,x)},render:function(u){this.enabled&&(this.resize(),this.reset(),this.draw(u))},reset:function(){},resize:function(){}}),r=t.extend({draw:function(u){var c,d,p=this.qrious,x=this.getModuleSize(u),O=this.getOffset(u),I=this.element.getContext("2d");for(I.fillStyle=p.foreground,I.globalAlpha=p.foregroundAlpha,c=0;c<u.width;c++)for(d=0;d<u.width;d++)u.buffer[d*u.width+c]&&I.fillRect(x*c+O,x*d+O,x,x)},reset:function(){var u=this.qrious,c=this.element.getContext("2d"),d=u.size;c.lineWidth=1,c.clearRect(0,0,d,d),c.fillStyle=u.background,c.globalAlpha=u.backgroundAlpha,c.fillRect(0,0,d,d)},resize:function(){var u=this.element;u.width=u.height=this.qrious.size}}),s=A.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),m=A.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),C=A.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),z=A.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),j=A.extend(function(u){var c,d,p,x,O,I=u.value.length;for(this._badness=[],this._level=m.LEVELS[u.level],this._polynomial=[],this._value=u.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,p=4*(this._level-1)+16*(this._version-1),x=m.BLOCKS[p++],O=m.BLOCKS[p++],c=m.BLOCKS[p++],d=m.BLOCKS[p],!(I<=(p=c*(x+O)+O-3+(this._version<=9)))););this._dataBlock=c,this._eccBlock=d,this._neccBlock1=x,this._neccBlock2=O;var B=this.width=17+4*this._version;this.buffer=j._createArray(B*B),this._ecc=j._createArray(c+(c+d)*(x+O)+O),this._mask=j._createArray((B*(B+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+B*(B-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(I),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(u,c){var d,p=this.buffer,x=this.width;for(p[u+x*c]=1,d=-2;d<2;d++)p[u+d+x*(c-2)]=1,p[u-2+x*(c+d+1)]=1,p[u+2+x*(c+d)]=1,p[u+d+1+x*(c+2)]=1;for(d=0;d<2;d++)this._setMask(u-1,c+d),this._setMask(u+1,c-d),this._setMask(u-d,c-1),this._setMask(u+d,c+1)},_appendData:function(u,c,d,p){var x,O,I,B=this._polynomial,P=this._stringBuffer;for(O=0;O<p;O++)P[d+O]=0;for(O=0;O<c;O++){if(255!==(x=C.LOG[P[u+O]^P[d]]))for(I=1;I<p;I++)P[d+I-1]=P[d+I]^C.EXPONENT[j._modN(x+B[p-I])];else for(I=d;I<d+p;I++)P[I]=P[I+1];P[d+p-1]=255===x?0:C.EXPONENT[j._modN(x+B[0])]}},_appendEccToData:function(){var u,c=0,d=this._dataBlock,p=this._calculateMaxLength(),x=this._eccBlock;for(u=0;u<this._neccBlock1;u++)this._appendData(c,d,p,x),c+=d,p+=x;for(u=0;u<this._neccBlock2;u++)this._appendData(c,d+1,p,x),c+=d+1,p+=x},_applyMask:function(u){var c,d,p,x,O=this.buffer,I=this.width;switch(u){case 0:for(x=0;x<I;x++)for(p=0;p<I;p++)!(p+x&1)&&!this._isMasked(p,x)&&(O[p+x*I]^=1);break;case 1:for(x=0;x<I;x++)for(p=0;p<I;p++)!(1&x)&&!this._isMasked(p,x)&&(O[p+x*I]^=1);break;case 2:for(x=0;x<I;x++)for(c=0,p=0;p<I;p++,c++)3===c&&(c=0),!c&&!this._isMasked(p,x)&&(O[p+x*I]^=1);break;case 3:for(d=0,x=0;x<I;x++,d++)for(3===d&&(d=0),c=d,p=0;p<I;p++,c++)3===c&&(c=0),!c&&!this._isMasked(p,x)&&(O[p+x*I]^=1);break;case 4:for(x=0;x<I;x++)for(c=0,d=x>>1&1,p=0;p<I;p++,c++)3===c&&(c=0,d=!d),!d&&!this._isMasked(p,x)&&(O[p+x*I]^=1);break;case 5:for(d=0,x=0;x<I;x++,d++)for(3===d&&(d=0),c=0,p=0;p<I;p++,c++)3===c&&(c=0),!((p&x&1)+!(!c|!d))&&!this._isMasked(p,x)&&(O[p+x*I]^=1);break;case 6:for(d=0,x=0;x<I;x++,d++)for(3===d&&(d=0),c=0,p=0;p<I;p++,c++)3===c&&(c=0),!((p&x&1)+(c&&c===d)&1)&&!this._isMasked(p,x)&&(O[p+x*I]^=1);break;case 7:for(d=0,x=0;x<I;x++,d++)for(3===d&&(d=0),c=0,p=0;p<I;p++,c++)3===c&&(c=0),!((c&&c===d)+(p+x&1)&1)&&!this._isMasked(p,x)&&(O[p+x*I]^=1)}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var u,c,d=this._eccBlock,p=this._polynomial;for(p[0]=1,u=0;u<d;u++){for(p[u+1]=1,c=u;c>0;c--)p[c]=p[c]?p[c-1]^C.EXPONENT[j._modN(C.LOG[p[c]]+u)]:p[c-1];p[0]=C.EXPONENT[j._modN(C.LOG[p[0]]+u)]}for(u=0;u<=d;u++)p[u]=C.LOG[p[u]]},_checkBadness:function(){var u,c,d,p,x,O=0,I=this._badness,B=this.buffer,P=this.width;for(x=0;x<P-1;x++)for(p=0;p<P-1;p++)(B[p+P*x]&&B[p+1+P*x]&&B[p+P*(x+1)]&&B[p+1+P*(x+1)]||!(B[p+P*x]||B[p+1+P*x]||B[p+P*(x+1)]||B[p+1+P*(x+1)]))&&(O+=j.N2);var K=0;for(x=0;x<P;x++){for(d=0,I[0]=0,u=0,p=0;p<P;p++)u===(c=B[p+P*x])?I[d]++:I[++d]=1,K+=(u=c)?1:-1;O+=this._getBadness(d)}K<0&&(K=-K);var he=0,oe=K;for(oe+=oe<<2,oe<<=1;oe>P*P;)oe-=P*P,he++;for(O+=he*j.N4,p=0;p<P;p++){for(d=0,I[0]=0,u=0,x=0;x<P;x++)u===(c=B[p+P*x])?I[d]++:I[++d]=1,u=c;O+=this._getBadness(d)}return O},_convertBitStream:function(u){var c,d,p=this._ecc,x=this._version;for(d=0;d<u;d++)p[d]=this._value.charCodeAt(d);var O=this._stringBuffer=p.slice(),I=this._calculateMaxLength();u>=I-2&&(u=I-2,x>9&&u--);var B=u;if(x>9){for(O[B+2]=0,O[B+3]=0;B--;)O[B+3]|=255&(c=O[B])<<4,O[B+2]=c>>4;O[2]|=255&u<<4,O[1]=u>>4,O[0]=64|u>>12}else{for(O[B+1]=0,O[B+2]=0;B--;)O[B+2]|=255&(c=O[B])<<4,O[B+1]=c>>4;O[1]|=255&u<<4,O[0]=64|u>>4}for(B=u+3-(x<10);B<I;)O[B++]=236,O[B++]=17},_getBadness:function(u){var c,d=0,p=this._badness;for(c=0;c<=u;c++)p[c]>=5&&(d+=j.N1+p[c]-5);for(c=3;c<u-1;c+=2)p[c-2]===p[c+2]&&p[c+2]===p[c-1]&&p[c-1]===p[c+1]&&3*p[c-1]===p[c]&&(0===p[c-3]||c+3>u||3*p[c-3]>=4*p[c]||3*p[c+3]>=4*p[c])&&(d+=j.N3);return d},_finish:function(){this._stringBuffer=this.buffer.slice();var u,c,d=0,p=3e4;for(c=0;c<8&&(this._applyMask(c),(u=this._checkBadness())<p&&(p=u,d=c),7!==d);c++)this.buffer=this._stringBuffer.slice();d!==c&&this._applyMask(d),p=m.FINAL_FORMAT[d+(this._level-1<<3)];var x=this.buffer,O=this.width;for(c=0;c<8;c++,p>>=1)1&p&&(x[O-1-c+8*O]=1,c<6?x[8+O*c]=1:x[8+O*(c+1)]=1);for(c=0;c<7;c++,p>>=1)1&p&&(x[8+O*(O-7+c)]=1,c?x[6-c+8*O]=1:x[7+8*O]=1)},_interleaveBlocks:function(){var u,c,d=this._dataBlock,p=this._ecc,x=this._eccBlock,O=0,I=this._calculateMaxLength(),B=this._neccBlock1,P=this._neccBlock2,K=this._stringBuffer;for(u=0;u<d;u++){for(c=0;c<B;c++)p[O++]=K[u+c*d];for(c=0;c<P;c++)p[O++]=K[B*d+u+c*(d+1)]}for(c=0;c<P;c++)p[O++]=K[B*d+u+c*(d+1)];for(u=0;u<x;u++)for(c=0;c<B+P;c++)p[O++]=K[I+u+c*x];this._stringBuffer=p},_insertAlignments:function(){var u,c,d,p=this._version,x=this.width;if(p>1)for(u=s.BLOCK[p],d=x-7;;){for(c=x-7;c>u-3&&(this._addAlignment(c,d),!(c<u));)c-=u;if(d<=u+9)break;this._addAlignment(6,d-=u),this._addAlignment(d,6)}},_insertFinders:function(){var u,c,d,p,x=this.buffer,O=this.width;for(u=0;u<3;u++){for(c=0,p=0,1===u&&(c=O-7),2===u&&(p=O-7),x[p+3+O*(c+3)]=1,d=0;d<6;d++)x[p+d+O*c]=1,x[p+O*(c+d+1)]=1,x[p+6+O*(c+d)]=1,x[p+d+1+O*(c+6)]=1;for(d=1;d<5;d++)this._setMask(p+d,c+1),this._setMask(p+1,c+d+1),this._setMask(p+5,c+d),this._setMask(p+d+1,c+5);for(d=2;d<4;d++)x[p+d+O*(c+2)]=1,x[p+2+O*(c+d+1)]=1,x[p+4+O*(c+d)]=1,x[p+d+1+O*(c+4)]=1}},_insertTimingGap:function(){var u,c,d=this.width;for(c=0;c<7;c++)this._setMask(7,c),this._setMask(d-8,c),this._setMask(7,c+d-7);for(u=0;u<8;u++)this._setMask(u,7),this._setMask(u+d-8,7),this._setMask(u,d-8)},_insertTimingRowAndColumn:function(){var u,c=this.buffer,d=this.width;for(u=0;u<d-14;u++)1&u?(this._setMask(8+u,6),this._setMask(6,8+u)):(c[8+u+6*d]=1,c[6+d*(8+u)]=1)},_insertVersion:function(){var u,c,d,p,x=this.buffer,O=this._version,I=this.width;if(O>6)for(u=z.BLOCK[O-7],c=17,d=0;d<6;d++)for(p=0;p<3;p++,c--)1&(c>11?O>>c-12:u>>c)?(x[5-d+I*(2-p+I-11)]=1,x[2-p+I-11+I*(5-d)]=1):(this._setMask(5-d,2-p+I-11),this._setMask(2-p+I-11,5-d))},_isMasked:function(u,c){var d=j._getMaskBit(u,c);return 1===this._mask[d]},_pack:function(){var u,c,d,p=1,x=1,O=this.width,I=O-1,B=O-1,P=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(c=0;c<P;c++)for(u=this._stringBuffer[c],d=0;d<8;d++,u<<=1){128&u&&(this.buffer[I+O*B]=1);do{x?I--:(I++,p?0!==B?B--:(p=!p,6==(I-=2)&&(I--,B=9)):B!==O-1?B++:(p=!p,6==(I-=2)&&(I--,B-=8))),x=!x}while(this._isMasked(I,B))}},_reverseMask:function(){var u,c,d=this.width;for(u=0;u<9;u++)this._setMask(u,8);for(u=0;u<8;u++)this._setMask(u+d-8,8),this._setMask(8,u);for(c=0;c<7;c++)this._setMask(8,c+d-7)},_setMask:function(u,c){var d=j._getMaskBit(u,c);this._mask[d]=1},_syncMask:function(){var u,c,d=this.width;for(c=0;c<d;c++)for(u=0;u<=c;u++)this.buffer[u+d*c]&&this._setMask(u,c)}},{_createArray:function(u){var c,d=[];for(c=0;c<u;c++)d[c]=0;return d},_getMaskBit:function(u,c){var d;return u>c&&(d=u,u=c,c=d),d=c,d+=c*c,(d>>=1)+u},_modN:function(u){for(;u>=255;)u=((u-=255)>>8)+(255&u);return u},N1:3,N2:3,N3:40,N4:10}),X=j,ce=t.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var u=this.element;u.width=u.height=this.qrious.size}}),D=A.extend(function(u,c,d,p){this.name=u,this.modifiable=Boolean(c),this.defaultValue=d,this._valueTransformer=p},{transform:function(u){var c=this._valueTransformer;return"function"==typeof c?c(u,this):u}}),N=A.extend(null,{abs:function(u){return null!=u?Math.abs(u):null},hasOwn:function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},noop:function(){},toUpperCase:function(u){return null!=u?u.toUpperCase():null}}),L=A.extend(function(u){this.options={},u.forEach(function(c){this.options[c.name]=c},this)},{exists:function(u){return null!=this.options[u]},get:function(u,c){return L._get(this.options[u],c)},getAll:function(u){var c,d=this.options,p={};for(c in d)N.hasOwn(d,c)&&(p[c]=L._get(d[c],u));return p},init:function(u,c,d){var p,x;for(p in"function"!=typeof d&&(d=N.noop),this.options)N.hasOwn(this.options,p)&&(L._set(x=this.options[p],x.defaultValue,c),L._createAccessor(x,c,d));this._setAll(u,c,!0)},set:function(u,c,d){return this._set(u,c,d)},setAll:function(u,c){return this._setAll(u,c)},_set:function(u,c,d,p){var x=this.options[u];if(!x)throw new Error("Invalid option: "+u);if(!x.modifiable&&!p)throw new Error("Option cannot be modified: "+u);return L._set(x,c,d)},_setAll:function(u,c,d){if(!u)return!1;var p,x=!1;for(p in u)N.hasOwn(u,p)&&this._set(p,u[p],c,d)&&(x=!0);return x}},{_createAccessor:function(u,c,d){var p={get:function(){return L._get(u,c)}};u.modifiable&&(p.set=function(x){L._set(u,x,c)&&d(x,u)}),Object.defineProperty(c,u.name,p)},_get:function(u,c){return c["_"+u.name]},_set:function(u,c,d){var p="_"+u.name,x=d[p],O=u.transform(c??u.defaultValue);return d[p]=O,O!==x}}),F=L,ne=A.extend(function(){this._services={}},{getService:function(u){var c=this._services[u];if(!c)throw new Error("Service is not being managed with name: "+u);return c},setService:function(u,c){if(this._services[u])throw new Error("Service is already managed with name: "+u);c&&(this._services[u]=c)}}),ee=new F([new D("background",!0,"white"),new D("backgroundAlpha",!0,1,N.abs),new D("element"),new D("foreground",!0,"black"),new D("foregroundAlpha",!0,1,N.abs),new D("level",!0,"L",N.toUpperCase),new D("mime",!0,"image/png"),new D("padding",!0,null,N.abs),new D("size",!0,100,N.abs),new D("value",!0,"")]),H=new ne,se=A.extend(function(u){ee.init(u,this,this.update.bind(this));var c=ee.get("element",this),d=H.getService("element"),p=c&&d.isCanvas(c)?c:d.createCanvas(),x=c&&d.isImage(c)?c:d.createImage();this._canvasRenderer=new r(this,p,!0),this._imageRenderer=new ce(this,x,x===c),this.update()},{get:function(){return ee.getAll(this)},set:function(u){ee.setAll(u,this)&&this.update()},toDataURL:function(u){return this.canvas.toDataURL(u||this.mime)},update:function(){var u=new X({level:this.level,value:this.value});this._canvasRenderer.render(u),this._imageRenderer.render(u)}},{use:function(u){H.setService(u.getName(),u)}});Object.defineProperties(se.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var ie=se,ve=A.extend({getName:function(){}}).extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(u){},isImage:function(u){}}).extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(u){return u instanceof HTMLCanvasElement},isImage:function(u){return u instanceof HTMLImageElement}});return ie.use(new ve),ie}()}}]);